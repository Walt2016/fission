/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js?!./src/ui/ui.css":
/*!********************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src??postcss!./src/ui/ui.css ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.i, \"body{padding:0;margin:0}#wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;float:right;margin-right:15px;overflow-x:hidden}#wrapper .panel{font-size:10px;margin-bottom:40px;width:500px;color:#000;background-color:#f6f4f0;background-color:#d0e69c;background-color:#dcecb5;background-color:#e5eecc;border:1px solid #d4d4d4;background-image:linear-gradient(#fff,#e5eecc 100px)}#wrapper .panel.ui{width:244px}#wrapper .panel .panel_header{font-size:18px;line-height:40px;height:40px;padding:0 10px;border-bottom:1px solid #d4d4d4;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}#wrapper .panel .panel_header .fold{width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-bottom:8px solid grey}#wrapper .panel .panel_header .fold.down{width:0;height:0;border:8px solid transparent;border-top-color:grey;border-bottom:none}#wrapper .panel .panel_body{padding:10px}#wrapper .panel .panel_footer{width:100%;text-align:center;padding:4px}#wrapper .panel .panel_body.hide,#wrapper .panel .panel_footer.hide{display:none}#wrapper .panel .panel_footer button{padding:0;width:100px;height:40px;line-height:40px;font-size:18px}.panel .form_item{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:4px}.panel .form_item .form_item_label{width:50px;text-align:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.panel .form_item .form_item_input,.panel .form_item .form_item_select{border:1px solid #ccc;padding:0 2px;height:28px;line-height:28px;width:200px}.panel .form_item .form_item_textarea{width:300px;height:50px}.panel .form_item .form_item_btn{width:100px;text-align:center}.panel table{width:100%;outline:1px solid #ccc}.panel table td,.panel table th{outline:1px solid #ccc;padding:4px}\", \"\"]);\n\n\n//# sourceURL=webpack:///./src/ui/ui.css?./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src??postcss");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \"{\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      // eslint-disable-next-line prefer-destructuring\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = modules[_i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = \"(\".concat(item[2], \") and (\").concat(mediaQuery, \")\");\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}\n\n//# sourceURL=webpack:///./node_modules/css-loader/dist/runtime/api.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce =  true ? __webpack_require__.nc : undefined;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n//# sourceURL=webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?");

/***/ }),

/***/ "./src/charactergraphics.js":
/*!**********************************!*\
  !*** ./src/charactergraphics.js ***!
  \**********************************/
/*! exports provided: pixel, _pre, _div */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pixel\", function() { return pixel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_pre\", function() { return _pre; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_div\", function() { return _div; });\n//文字图形\r\n\r\nvar width, height\r\nvar gap = 6 //间距\r\n//二维数组\r\nfunction loop(handleCell, handleRow) {\r\n    // let \r\n    for (var x = 0; x < width; x += gap) {\r\n        for (var y = 0; y < height; y += gap) {\r\n            handleCell && handleCell(x, y)\r\n        }\r\n        handleRow && handleRow(x, y)\r\n    }\r\n    // for (var y = 0; y < height; y += gap) {\r\n    //     for (var x = 0; x < width; x += gap) {\r\n    //         handleCell && handleCell(x, y)\r\n    //     }\r\n    //     handleRow && handleRow(x, y)\r\n    // }\r\n}\r\n//图形点阵\r\nfunction pixel(options) { //canvas,gap\r\n    let {\r\n        canvas,\r\n        gap = 6 //采样间隙\r\n    } = options\r\n    let ctx = canvas.getContext(\"2d\")\r\n    let cols = width = canvas.width;\r\n    let rows = height = canvas.height;\r\n    // fill({color:\"rgb(255,0,0)\"})\r\n    var imgData = ctx.getImageData(0, 0, cols, rows)\r\n    let data = imgData.data\r\n    // console.log(data)\r\n    var len = imgData.data.length;\r\n    var points = [];\r\n    // //rgba\r\n    for (var i = 0; i < rows; i += gap) {\r\n        for (var j = 0; j < cols; j += gap) {\r\n            var pos = (i * cols + j) * 4;\r\n            // 判断像素点是不是红色\r\n            if (data[pos] == 255 && data[pos + 1] == 0 && data[pos + 2] == 0 && data[pos + 3] == 255) {\r\n                // var dot = new Dot(x, y);\r\n                points.push([j / gap, i / gap])\r\n                // points.push([i, j])\r\n            }\r\n        }\r\n    }\r\n    console.log(points)\r\n    return points\r\n}\r\n\r\n\r\nfunction _style() {\r\n    let style = document.createElement('style')\r\n    // style.setAttribute('id', id)\r\n    style.innerText = \".pre{position:relative;}.black{outline: 1px solid #000;width: 20px;height: 20px;position:absolute;}.black:hover{background:#ccc}\"\r\n    document.head.appendChild(style)\r\n}\r\n\r\nfunction _div(points) {\r\n    _style()\r\n    let div = document.createElement(\"div\");\r\n    div.className = \"pre\"\r\n    points = points.map(t => t.toString())\r\n    let str = \"\"\r\n    let gap = 1\r\n    for (let i = 0; i < width; i += gap) {\r\n        for (let j = 0; j < height; j += gap) {\r\n            // str += \" \"\r\n            if (points.indexOf([i, j].toString()) >= 0) {\r\n                // str += \"1\"\r\n                // str += `<span class=\"black\" style=\"left: ${j*10}px;top: ${i*10}px\"></span>`\r\n                str += `<span class=\"black\" style=\"left: ${i*10}px;top: ${j*10}px\"></span>`\r\n            }\r\n        }\r\n        str += \"\\n\"\r\n    }\r\n    div.innerHTML = str\r\n    document.body.appendChild(div)\r\n}\r\n\r\n\r\n\r\nfunction _pre(points) {\r\n    let pre = document.createElement(\"pre\");\r\n    points = points.map(t => t.toString())\r\n    let str = \"\"\r\n    let gap = 1\r\n    // loop((x, y) => {\r\n    //     str += \" \"\r\n    //     if (points.indexOf([x, y].toString()) >= 0) {\r\n    //         str += \"1\"\r\n    //     }\r\n    //     // if (points.indexOf([y, x].toString()) >= 0) {\r\n    //     //     str += \"1\"\r\n    //     // }\r\n\r\n    // }, (x, y) => {\r\n    //     str += \"\\n\"\r\n    // })\r\n    for (let i = 0; i < width; i += gap) {\r\n        for (let j = 0; j < height; j += gap) {\r\n            str += \" \"\r\n            if (points.indexOf([i, j].toString()) >= 0) {\r\n                str += \"1\"\r\n            }\r\n        }\r\n        str += \"\\n\"\r\n    }\r\n    pre.innerHTML = str\r\n    document.body.appendChild(pre)\r\n}\r\n\r\n\n\n//# sourceURL=webpack:///./src/charactergraphics.js?");

/***/ }),

/***/ "./src/config.js":
/*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\r\n\r\n\r\nlet wrapperOptions = (function () {\r\n    var width = window.innerWidth ||\r\n        document.documentElement.clientWidth ||\r\n        document.body.clientWidth || 640;\r\n    var height = window.innerHeight ||\r\n        document.documentElement.clientHeight ||\r\n        document.body.clientHeight || 400;\r\n    return {\r\n        width,\r\n        height,\r\n        cx: width / 2,\r\n        cy: height / 2\r\n    }\r\n}())\r\nlet center = [wrapperOptions.cx, wrapperOptions.cy];\r\nlet words = ['stroke', 'fill', 'width'];\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    wrapperOptions,\r\n    center,\r\n    words\r\n});\n\n//# sourceURL=webpack:///./src/config.js?");

/***/ }),

/***/ "./src/draw.js":
/*!*********************!*\
  !*** ./src/draw.js ***!
  \*********************/
/*! exports provided: setup, draw, shape, clear, anime, animate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setup\", function() { return setup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"draw\", function() { return draw; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"shape\", function() { return shape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clear\", function() { return clear; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"anime\", function() { return anime; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"animate\", function() { return animate; });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ \"./src/config.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/utils.js\");\n/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./filter */ \"./src/filter.js\");\n/* harmony import */ var _lattice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lattice */ \"./src/lattice.js\");\n/* harmony import */ var _charactergraphics__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./charactergraphics */ \"./src/charactergraphics.js\");\n/* harmony import */ var _entity__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./entity */ \"./src/entity/index.js\");\n\r\n\r\n\r\n\r\n\r\n// import color from './color'\r\n// import fractal from './fractal'\r\n\r\n\r\n\r\nlet {\r\n    wrapperOptions,\r\n    center\r\n} = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\r\nlet {\r\n    width,\r\n    height\r\n} = wrapperOptions\r\n\r\nlet canvas, ctx;\r\nvar setup = function () {\r\n    canvas = document.createElement('canvas')\r\n    ctx = canvas.getContext(\"2d\")\r\n    canvas.width = width\r\n    canvas.height = height\r\n\r\n\r\n    // canvas.width = innerWidth;\r\n    // canvas.height = innerHeight;\r\n            \r\n    canvas.style.position = 'absolute';\r\n    canvas.style.top = 0;\r\n    canvas.style.bottom = 0;\r\n    canvas.style.left = 0;\r\n    canvas.style.right = 0;\r\n    canvas.style.zIndex = -1;\r\n    \r\n    canvas.style.background = '-webkit-radial-gradient(#ffffff, #505050)';\r\n    canvas.style.background = '-moz-radial-gradient(#ffffff, #505050)';\r\n    canvas.style.background = '-ms-radial-gradient(#ffffff, #505050)';\r\n    canvas.style.background = '-o-radial-gradient(#ffffff, #505050)';\r\n    canvas.style.background = 'radial-gradient(#ffffff, #505050)';\r\n    document.body.appendChild(canvas)\r\n    return {\r\n        ctx,\r\n        canvas,\r\n        width,\r\n        height\r\n    }\r\n    // var el = this.el = _.query(options.el)\r\n    // el.appendChild(canvas)\r\n    // var padding = options.padding || 0,\r\n    //     paddingLeft = options.paddingLeft || padding,\r\n    //     paddingRight = options.paddingRight || padding,\r\n    //     paddingTop = options.paddingTop || padding,\r\n    //     paddingBottom = options.paddingBottom || padding;\r\n    // this.center = [this.width / 2, this.height / 2];\r\n    // this.lefttop = [0 + paddingLeft, 0 + paddingTop];\r\n    // this.leftbottom = [0 + paddingLeft, this.height - paddingBottom];\r\n    // this.rightbottom = [this.width - paddingRight, this.height - paddingBottom];\r\n    // this.righttop = [this.width - paddingRight, 0 + paddingTop];\r\n}\r\n\r\n// function setup() {\r\n//     canvas = document.querySelector(\"#canvas\");\r\n//     ctx = canvas.getContext(\"2d\");\r\n//     window.addEventListener(\"resize\", resize);\r\n//     canvas.addEventListener(\"click\", draw);\r\n//     resize();\r\n//   }\r\n\r\n//   function resize() {\r\n//     w = canvas.width = window.innerWidth;\r\n//     h = canvas.height = window.innerHeight;\r\n//     ctx.fillStyle = \"black\";\r\n//     ctx.lineWidth = config.lineWidth;\r\n//     ctx.lineCap = \"round\";\r\n//     ctx.lineJoin = \"round\";\r\n//     draw();\r\n//   }\r\n\r\nvar clear = function () {\r\n    ctx.clearRect(0, 0, width, height);\r\n};\r\n\r\nfunction fill({\r\n    color\r\n}) {\r\n    ctx.fillStyle = color\r\n    ctx.rect(0, 0, width, height)\r\n    ctx.fill();\r\n}\r\n\r\n//链接\r\n//arr, shape\r\nvar link = function (opt) {\r\n    var _link = function (p1, p2, shape, sAngle, eAngle) {\r\n        ctx.strokeStyle = \"#000\";\r\n        ctx.beginPath();\r\n        switch (shape) {\r\n            case \"line\":\r\n                ctx.moveTo.apply(ctx, p1)\r\n                ctx.lineTo.apply(ctx, p2)\r\n                break;\r\n            case \"arc\":\r\n                var sAngle = sAngle || 0;\r\n                var eAngle = eAngle || (sAngle + Math.PI)\r\n                var r = this.dis(p1, p2) / 2\r\n                var o = this.mid(p1, p2)\r\n                ctx.arc.apply(ctx, o.concat([r, sAngle, eAngle]))\r\n                break;\r\n            case \"circle\":\r\n                var sAngle = 0;\r\n                var eAngle = 2 * Math.PI\r\n                var r = this.dis(p1, p2) / 2\r\n                var o = this.mid(p1, p2)\r\n                ctx.arc.apply(ctx, o.concat([r, sAngle, eAngle]))\r\n                break;\r\n        }\r\n        ctx.stroke()\r\n    }\r\n\r\n    var len = arguments.length\r\n    if (len === 3) {\r\n        var p1 = arguments[0],\r\n            p2 = arguments[1];\r\n        var shape = arguments[2];\r\n        _link(p1, p2, shape)\r\n\r\n    } else if (len === 2) {\r\n        var arr = arguments[0],\r\n            len = arr.length,\r\n            shape = arguments[1];\r\n        for (var i = 0; i < len - 1; i++) {\r\n            _link.apply(this, arr.slice(i, i + 2).concat([shape]))\r\n        }\r\n    } else if (len === 1) {\r\n        var arr = opt.points,\r\n            len = arr.length,\r\n            shape = opt.shape,\r\n            sAngle = opt.sAngle,\r\n            eAngle = opt.eAngle\r\n\r\n        for (var i = 0; i < len - 1; i++) {\r\n            _link.apply(this, arr.slice(i, i + 2).concat([shape, sAngle, eAngle]))\r\n        }\r\n    }\r\n\r\n};\r\n\r\n\r\n\r\n\r\n//点阵\r\nvar lattice = function (options) {\r\n    let points = Object(_lattice__WEBPACK_IMPORTED_MODULE_3__[\"latticepoints\"])(options)\r\n    return line(Object.assign(options, {\r\n        points\r\n    }))\r\n}\r\n//同义词\r\nvar _synonym = function (options) {\r\n    var synonym = {\r\n        color: 'fillStyle',\r\n        linecolor: 'strokeStyle',\r\n        // linewidth: 'strokeWidth'\r\n    }\r\n    Object.keys(options).forEach(t => {\r\n        let key = synonym[t.toLowerCase()]\r\n        if (key) {\r\n            options[key] = options[t]\r\n        }\r\n    })\r\n    return options\r\n}\r\n//默认参数\r\nvar defaultOptions = function (tag, options) {\r\n    let _default = {}\r\n    switch (tag) {\r\n        case 'circle':\r\n            _default = {\r\n                o: center,\r\n                r: 100,\r\n                color: 'red',\r\n                lineColor: 'black'\r\n            }\r\n            break;\r\n        case 'text':\r\n            _default = {\r\n                o: center,\r\n                // x: center[0],\r\n                // y: 20,\r\n                // fontSize: 20,\r\n                text: 'Canvas'\r\n            }\r\n            break;\r\n        case 'polygon':\r\n            _default = {\r\n                o: center,\r\n                r: 100,\r\n                n: 5,\r\n                sAngle: 0,\r\n                // color: 'blue',\r\n                lineColor: 'black'\r\n            }\r\n            break;\r\n        case 'rect':\r\n            _default = {\r\n                o: center,\r\n                r: 100,\r\n                sAngle: 0,\r\n                color: 'blue',\r\n                lineColor: 'black'\r\n            }\r\n            break;\r\n        case 'ray':\r\n            _default = {\r\n                o: center,\r\n                r: 100,\r\n                n: 5,\r\n                sAngle: 0,\r\n                // color: 'blue',\r\n                lineColor: 'black'\r\n            }\r\n            break;\r\n        case 'arc':\r\n            _default = {\r\n                o: center,\r\n                r: 100,\r\n                n: 5,\r\n                sAngle: 0,\r\n                // color: 'blue',\r\n                lineColor: 'black'\r\n            }\r\n            break;\r\n        case 'lattice':\r\n            _default = {\r\n                o: center,\r\n                r: 50,\r\n                n: 4\r\n            }\r\n            break;\r\n\r\n    }\r\n\r\n    return _synonym(Object.assign(_default, options))\r\n}\r\n\r\n\r\n//图形\r\nvar shape = function (tag, options) {\r\n    options = defaultOptions(tag, options)\r\n    switch (tag) {\r\n        case \"circle\":\r\n            options = new Circle(options);\r\n            break;\r\n        case 'text':\r\n            options =new  _entity__WEBPACK_IMPORTED_MODULE_5__[\"Text\"](options);\r\n            // console.log(options)\r\n            break;\r\n        case 'polygon':\r\n            options =new _entity__WEBPACK_IMPORTED_MODULE_5__[\"Polygon\"](options);\r\n            break;\r\n        case 'ray':\r\n            options = new _entity__WEBPACK_IMPORTED_MODULE_5__[\"Ray\"](options);\r\n            break;\r\n        case 'arc':\r\n            options =new  _entity__WEBPACK_IMPORTED_MODULE_5__[\"Arc\"](options);\r\n            break;\r\n        case 'rect':\r\n            options =new  _entity__WEBPACK_IMPORTED_MODULE_5__[\"Rect\"](options);\r\n            break;\r\n        case 'lattice':\r\n            options = lattice(options)\r\n            break;\r\n    }\r\n    // console.log(options)\r\n    return options\r\n}\r\n\r\n\r\n//滤镜\r\nfunction doFilter(t, options) {\r\n    if (t === 'lattice') {\r\n        let points = Object(_charactergraphics__WEBPACK_IMPORTED_MODULE_4__[\"pixel\"])({\r\n            canvas,\r\n            gap: 6\r\n        })\r\n        console.log(points)\r\n        clear()\r\n        // let colors = color.circle(points.length)\r\n        let balls = []\r\n        let stricks = []\r\n        points.forEach((t, i) => {\r\n            // balls.push(new Ball(...[t[0] * 3, t[1] * 6]))\r\n            balls.push(new _entity__WEBPACK_IMPORTED_MODULE_5__[\"Ball\"]({\r\n                o: [t[0] * 3, t[1] * 6]\r\n            }))\r\n            // stricks.push(new Stick({\r\n            //     o: [t[0] * 3, t[1] * 6]\r\n            // }))\r\n\r\n\r\n            let opt = Object.assign(options, {\r\n                o: [t[0] * 3, t[1] * 6], // t.map(t=>[t[0]*8,t[1]*2]),\r\n                shape: 'circle',\r\n                r: 2,\r\n                color: '#000'\r\n                // color: colors[i] // hsla()\r\n            })\r\n            // if (i % 100 == 0) {\r\n            //     circle(opt)\r\n            // }\r\n\r\n            ctx.beginPath();\r\n            circle(opt)\r\n            // ctx.arc(t[0], t[1], 2, 0, 2 * Math.PI);\r\n            ctx.fill();\r\n\r\n        })\r\n        // _pre(points)\r\n        // _div(points)\r\n        animate(balls)\r\n        // animate(stricks)\r\n    } else {\r\n        _filter__WEBPACK_IMPORTED_MODULE_2__[\"default\"][t] && _filter__WEBPACK_IMPORTED_MODULE_2__[\"default\"][t](canvas)\r\n    }\r\n}\r\n\r\n//分形调用\r\nvar doFractal = function (t, options) {\r\n    let {\r\n        level = 3,\r\n            n = 5\r\n    } = options\r\n    // let len = fractal.stat(level, n)\r\n    // console.log(len)\r\n    // // let colors = color.circle(len)\r\n    // // options.colors = colors\r\n    // // options.index = 0\r\n    // let index = 0\r\n    // fractal[t](options, function (options) {\r\n    //     // options.index++\r\n    //     index++\r\n    //     Object.assign(options, {\r\n    //         index\r\n    //     })\r\n    //     return shape(options.shape, options)\r\n    // })\r\n}\r\n\r\nfunction figure(options) {\r\n\r\n    if (options.points) {\r\n        let {\r\n            points\r\n        } = new Seg[options.points.layout](options.points)\r\n    }\r\n\r\n\r\n\r\n    // let {\r\n    //     colors\r\n    // } = new Colors({\r\n    //     color: 'colorful',\r\n    //     n: 100\r\n    // })\r\n    let entities = []\r\n    points.forEach((t, i) => {\r\n        entities[entities.length] = new entity[o.shape](\r\n            Object.assign(options, {\r\n                o: t,\r\n                r: 2,\r\n                n: 5,\r\n                // color:'red',\r\n                // color: colors[i % 10]\r\n\r\n                // animate:'move2'\r\n            })\r\n        )\r\n\r\n\r\n    })\r\n}\r\n\r\n\r\n//画图\r\nvar draw = function (arr, options) {\r\n    console.log(arr)\r\n    arr.forEach(t => {\r\n        // console.log(t, options)\r\n        if (t instanceof _entity__WEBPACK_IMPORTED_MODULE_5__[\"BaseEntity\"]) {\r\n            t.drawController(ctx)\r\n            t.draw(ctx)\r\n        } else {\r\n\r\n            switch (Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"_type\"])(t)) {\r\n                case 'string':\r\n                    shape(t, options)\r\n                    break;\r\n                case 'object':\r\n\r\n                    //分形\r\n                    if (t.fractal) {\r\n                        doFractal(t.fractal, Object.assign({}, options, t))\r\n                    } else {\r\n                        //画图\r\n                        if (t.shape) {\r\n                            shape(t.shape, Object.assign({}, options, t))\r\n                        }\r\n                    }\r\n\r\n                    //滤镜\r\n                    if (t.filter) {\r\n                        doFilter(t.filter, Object.assign({}, options, t))\r\n                    }\r\n\r\n                    break;\r\n                default:\r\n                    if (Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"_type\"])(t).test(/svg/i)) {\r\n                        console.log(\"is svg element\")\r\n                    }\r\n                    break;\r\n            }\r\n\r\n        }\r\n\r\n\r\n    })\r\n}\r\n\r\n//动画\r\nlet anime = (figures, options) => {\r\n    setInterval(() => {\r\n        clear()\r\n        figures = figures.map(t => {\r\n            let {\r\n                sign = 1\r\n            } = t\r\n            let {\r\n                prop,\r\n                range = [0, 0],\r\n                speed,\r\n                act\r\n            } = Object.assign({}, t.anime, options)\r\n            if (t[prop] > range[1]) {\r\n                t.sign = -1\r\n            } else if (t[prop] < range[0]) {\r\n                t.sign = 1\r\n            }\r\n            t[prop] = t[prop] + sign * speed\r\n            return t\r\n        })\r\n\r\n        draw(figures)\r\n    }, 17);\r\n\r\n}\r\n\r\n//光影动画\r\nfunction animate(balls) {\r\n    (function _inner() {\r\n        ctx.fillStyle = 'rgba(0,0,0, .08)';\r\n        ctx.fillRect(0, 0, width, height);\r\n        balls.forEach(t => {\r\n            t.update();\r\n            t.draw(ctx);\r\n            // shape(\"circle\", {r:2,color:\"red\",o:[t.x,t.y]})\r\n        })\r\n        requestAnimationFrame(_inner);\r\n    })()\r\n}\r\n\r\n\n\n//# sourceURL=webpack:///./src/draw.js?");

/***/ }),

/***/ "./src/entity/Arc.js":
/*!***************************!*\
  !*** ./src/entity/Arc.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Arc; });\n/* harmony import */ var _BaseEntity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseEntity */ \"./src/entity/BaseEntity.js\");\n/* harmony import */ var _points__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../points */ \"./src/points/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./src/utils.js\");\n// 弧线\r\n\r\n\r\n\r\nclass Arc extends _BaseEntity__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(options) {\r\n        super(options)\r\n        this.setPoints(new _points__WEBPACK_IMPORTED_MODULE_1__[\"ArcSeg\"](options))\r\n    }\r\n    draw(ctx) {\r\n        let {\r\n            o,\r\n            strokeStyle = \"#FF0000\",\r\n            fillStyle = \"#FF0000\",\r\n            points,\r\n            color,\r\n            a1=0,\r\n            fill\r\n        } = this\r\n        let len = points.length\r\n        ctx.strokeStyle = color || strokeStyle;\r\n        ctx.fillStyle = color || fillStyle\r\n        ctx.beginPath();\r\n        points.forEach((t, i) => {\r\n            if(i==0)ctx.moveTo.apply(ctx,t)\r\n            let t1 = i + 1 < len ? points[i + 1] : points[0];\r\n            // let r = _dis(t, t1) \r\n            // ctx.moveTo.apply(ctx,t)\r\n            // ctx.arcTo.apply(ctx, o.concat(t1).concat([r]))\r\n\r\n            // var sAngle = a1 || 0;\r\n            // var eAngle = eAngle || (sAngle + Math.PI)\r\n            // var r = _dis(t, t1) / 2\r\n            // var ot = _mid(t, t1)\r\n            // ctx.arc.apply(ctx, ot.concat([r, sAngle, eAngle]))\r\n\r\n\r\n            let a = Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"_atan\"])(t, t1) * Math.PI / 180\r\n            let r = Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"_dis\"])(t, t1) / 2\r\n            let ot = Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"_mid\"])(t, t1)\r\n            ctx.arc.apply(ctx, ot.concat([r, a, a + Math.PI ]))\r\n        })\r\n        ctx.stroke()\r\n        if (fill) {\r\n            ctx.fill()\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/entity/Arc.js?");

/***/ }),

/***/ "./src/entity/ArcTo.js":
/*!*****************************!*\
  !*** ./src/entity/ArcTo.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Arc; });\n/* harmony import */ var _BaseEntity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseEntity */ \"./src/entity/BaseEntity.js\");\n/* harmony import */ var _points__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../points */ \"./src/points/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./src/utils.js\");\n// 弧线\r\n\r\n\r\n\r\nclass Arc extends _BaseEntity__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(options) {\r\n        super(options)\r\n        this.setPoints(new _points__WEBPACK_IMPORTED_MODULE_1__[\"ArcSeg\"](options))\r\n    }\r\n    draw(ctx) {\r\n        let {\r\n            o,\r\n            strokeStyle = \"#FF0000\",\r\n            fillStyle = \"#FF0000\",\r\n            points,\r\n            color,\r\n            fill\r\n        } = this\r\n        let len = points.length\r\n        ctx.strokeStyle = color || strokeStyle;\r\n        ctx.fillStyle = color || fillStyle\r\n        ctx.beginPath();\r\n        points.forEach((t, i) => {\r\n            let t1 = i + 1 < len ? points[i + 1] : points[0];\r\n            let r = Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"_dis\"])(t, t1)\r\n            ctx.moveTo.apply(ctx, t)\r\n            ctx.arcTo.apply(ctx, o.concat(t1).concat([r]))\r\n        })\r\n        ctx.stroke()\r\n        if (fill) {\r\n            ctx.fill()\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/entity/ArcTo.js?");

/***/ }),

/***/ "./src/entity/Ball.js":
/*!****************************!*\
  !*** ./src/entity/Ball.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Ball; });\n/* harmony import */ var _BaseEntity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseEntity */ \"./src/entity/BaseEntity.js\");\n/* harmony import */ var _points__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../points */ \"./src/points/index.js\");\n//小球\r\n\r\n\r\nclass Ball extends _BaseEntity__WEBPACK_IMPORTED_MODULE_0__[\"default\"] { //(x, y, width, height) \r\n    constructor(options) {\r\n        super(options)\r\n        this.setPoints(new _points__WEBPACK_IMPORTED_MODULE_1__[\"ArcSeg\"](options))\r\n    }\r\n\r\n    draw(ctx) {\r\n        ctx.strokeStyle = this.color || \"#0000ff\";\r\n        ctx.fillStyle = this.color || \"#0000ff\";\r\n        ctx.beginPath();\r\n        ctx.arc(this.x, this.y, this.r || 3, 0, 2 * Math.PI);\r\n        ctx.stroke();\r\n        if (this.fill) {\r\n            ctx.fill();\r\n        }\r\n\r\n\r\n        // ctx.save();\r\n        // // ctx.fillStyle = 'rgb(' + (51 * i) + ', ' + (255 - 51 * i) + ', 255)';\r\n        // ctx.translate(this.x, this.y);\r\n        // ctx.arc(0, 0, this.r || 3, 0, 2 * Math.PI);\r\n        // ctx.restore();\r\n    }\r\n\r\n}\n\n//# sourceURL=webpack:///./src/entity/Ball.js?");

/***/ }),

/***/ "./src/entity/BaseEntity.js":
/*!**********************************!*\
  !*** ./src/entity/BaseEntity.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BaseEntity; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.js\");\n/* harmony import */ var _Controler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Controler */ \"./src/entity/Controler.js\");\n/* harmony import */ var _points_PolarSeg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../points/PolarSeg */ \"./src/points/PolarSeg.js\");\n/* harmony import */ var _points_Freeform__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../points/Freeform */ \"./src/points/Freeform.js\");\n/* harmony import */ var _ui_BaseDom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/BaseDom */ \"./src/ui/BaseDom.js\");\n\r\n\r\n\r\n\r\n\r\nclass BaseEntity {\r\n    constructor(options) {\r\n        this.init(options)\r\n    }\r\n    init(options) {\r\n        for (let key in options) {\r\n            if (options[key] instanceof CanvasRenderingContext2D || options[key] instanceof _ui_BaseDom__WEBPACK_IMPORTED_MODULE_4__[\"default\"]) {\r\n                this.set(key, options[key])\r\n            } else {\r\n                this[key] = options[key]\r\n            }\r\n        }\r\n    }\r\n    // 根据切割机 设置点\r\n    setPoints(options) {\r\n        if (options instanceof _points_PolarSeg__WEBPACK_IMPORTED_MODULE_2__[\"default\"]) {\r\n            let {\r\n                points,\r\n                seg\r\n            } = options\r\n            return this.set(\"points\", points).set(\"seg\", seg.bind(options))\r\n        } else if (Array.isArray(options)) {\r\n\r\n            let {\r\n                points,\r\n                o\r\n            } = new _points_Freeform__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n                points: options.points\r\n            })\r\n            return this.set(\"points\", points)\r\n\r\n        }\r\n\r\n    }\r\n    // 根据参数 重新计算节点\r\n    update(options) {\r\n        Object.assign(this, options)\r\n        if (this.seg) {\r\n            this.points = this.seg()\r\n        }\r\n        return this\r\n    }\r\n    _fadeout(step = 0.01) {\r\n        let ctx = this.ctx\r\n        if (ctx) {\r\n            ctx.fillStyle = 'rgba(0,0,0, ' + step + ')';\r\n            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n        }\r\n        return this\r\n    }\r\n    clear(ctx = this.ctx) {\r\n        // this.timmer && clearInterval(this.timmer)\r\n        // this.ctx.fillStyle = 'rgba(0,0,0, .01)';\r\n        // this.ctx.fillRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\r\n        if (ctx) {\r\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n        }\r\n\r\n        // this.timmer&&clearTimeout(this.timmer)\r\n        // this.timmers.forEach(t => {\r\n        //     t && clearTimeout(t)\r\n        // })\r\n        // this.timmers.length=0\r\n        return this\r\n    }\r\n    // 不可枚举属性  this.ctx\r\n    set(key, value) {\r\n        return Object.defineProperty(this, key, {\r\n            value,\r\n            writable: true,\r\n            enumerable: false\r\n        })\r\n    }\r\n    //清空定时器\r\n    reset() {\r\n        this.timmer && clearInterval(this.timmer)\r\n        return this\r\n    }\r\n\r\n    //绘制控制点\r\n    drawController(ctx = this.ctx, points = this.points, o = this.o, pos = this.pos) {\r\n        let controler = new _Controler__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            ctx,\r\n            points,\r\n            o,\r\n            pos\r\n        })\r\n        this.controler = controler\r\n        // this.set(\"controler\",controler)\r\n        this.activePointIndex = controler.draw().activePointIndex\r\n    }\r\n\r\n    // 生成代码\r\n    createCode() {\r\n        if (!this.points) return false\r\n        var codes = ['// ' + this.name];\r\n        codes.push('ctx.lineWidth=' + this.lineWidth);\r\n        codes.push('ctx.strokeStyle=\\'' + this.strokeStyle + '\\';');\r\n        codes.push('ctx.beginPath();');\r\n        this.points.forEach((p, i) => {\r\n            if (i == 0) {\r\n                codes.push('ctx.moveTo(' + p[0] + ',' + p[1] + ');');\r\n            } else {\r\n                codes.push('ctx.lineTo(' + p[0] + ',' + p[1] + ');');\r\n            }\r\n        });\r\n        codes.push('ctx.closePath();');\r\n        codes.push('ctx.stroke();');\r\n        return codes.join('\\n');\r\n    }\r\n\r\n    //网格\r\n    drawGuidewires(ctx = this.ctx, x, y) {\r\n        ctx.save();\r\n        ctx.strokeStyle = 'rgba(0,0,230,0.4)';\r\n        ctx.lineWidth = 0.5;\r\n        ctx.beginPath();\r\n        ctx.moveTo(x + 0.5, 0);\r\n        ctx.lineTo(x + 0.5, ctx.canvas.height);\r\n        ctx.stroke();\r\n        ctx.beginPath();\r\n        ctx.moveTo(0, y + 0.5);\r\n        ctx.lineTo(ctx.canvas.width, y + 0.5);\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n\r\n    //绘制路径\r\n    createPath(ctx = this.ctx) {\r\n        ctx.beginPath();\r\n        this.points.forEach((p, i) => {\r\n            ctx[i == 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\r\n        });\r\n        ctx.closePath();\r\n    }\r\n\r\n\r\n    //判断鼠标是否选中对应的图形，选中哪个顶点，选中哪个控制点，中心点；\r\n    // isInPath(ctx = this.ctx, pos) {\r\n    //     for (var i = 0, point, len = this.points.length; i < len; i++) {\r\n    //         point = this.points[i];\r\n    //         ctx.beginPath();\r\n    //         ctx.arc(point[0], point[1], 5, 0, Math.PI * 2, false);\r\n    //         if (ctx.isPointInPath(pos[0], pos[1])) {\r\n    //             return i;\r\n    //         }\r\n    //     }\r\n    //     this.createPath(ctx);\r\n    //     if (ctx.isPointInPath(pos[0], pos[1])) {\r\n    //         return 9999;\r\n    //     }\r\n    //     return -1\r\n    // }\r\n\r\n    // 接口\r\n    draw(ctx = this.ctx) {\r\n        // ctx.save();\r\n        // ctx.fillStyle = this.color || \"#0000ff\";\r\n        // ctx.beginPath();\r\n        // ctx.arc(this.x, this.y, this.r || 3, 0, 2 * Math.PI);\r\n        // // ctx.stroke();\r\n        // ctx.fill();\r\n        // ctx.restore();\r\n        // return this\r\n    }\r\n    // 动画  靠近目标\r\n    moveTo([tx, ty]) {\r\n        this.timmer && clearInterval(this.timmer)\r\n        this.timmer = setInterval(() => {\r\n            let d = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_dis\"])(this.o, [tx, ty])\r\n            console.log(d)\r\n            if (d < 1) {\r\n                this.render([tx, ty])\r\n                this.timmer && clearInterval(this.timmer)\r\n            }\r\n\r\n            let [x, y] = this.o\r\n            this.render([Math.round((x + (tx - x) / 10) * 100) / 100, Math.round((y + (ty - y) / 10) * 100) / 100])\r\n        }, 17)\r\n    }\r\n    // 根据中心点重绘\r\n    render(o) {\r\n        // [tx, ty] = this.o\r\n        if (o) {\r\n            // console.log(this.ui)\r\n            console.log(o)\r\n\r\n            this.ui._set(\"o\", o)\r\n            // return this.update({\r\n            //     o\r\n            // }).clear().draw();\r\n\r\n            if (this.controler) {\r\n                this.points = this.controler.move(o).points\r\n                this.o = o //= this.controler._o()\r\n            }\r\n        }\r\n        if (this.fadeout) {\r\n            return this._fadeout(this.fadeout).draw();\r\n        }\r\n        return this.clear().draw();\r\n    }\r\n    // 跟随鼠标\r\n    follow(e) {\r\n        let pos = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_pos\"])(e, this.ctx.canvas)\r\n        if (this.showController) {\r\n            this.pos = pos\r\n        }\r\n        if (this.followMouse) {\r\n            // ui&& ui._set(\"o\", pos)\r\n            if (this.animate) {\r\n                this.moveTo(pos)\r\n            } else {\r\n                this.render(pos)\r\n            }\r\n        } else {\r\n            this.render()\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/entity/BaseEntity.js?");

/***/ }),

/***/ "./src/entity/Circle.js":
/*!******************************!*\
  !*** ./src/entity/Circle.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Circle; });\n/* harmony import */ var _BaseEntity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseEntity */ \"./src/entity/BaseEntity.js\");\n/* harmony import */ var _points__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../points */ \"./src/points/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./src/utils.js\");\n// 矩形\r\n\r\n\r\n\r\nclass Circle extends _BaseEntity__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(options) {\r\n        super(options)\r\n        this.setPoints(new _points__WEBPACK_IMPORTED_MODULE_1__[\"ArcSeg\"](options))\r\n    }\r\n    draw(ctx) {\r\n        let {\r\n            o,\r\n            strokeStyle = \"#FF0000\",\r\n            fillStyle = \"#FF0000\",\r\n            points,\r\n            color,\r\n            a1 = 0,\r\n            fill\r\n\r\n        } = this\r\n        let len = points.length\r\n        ctx.strokeStyle = color || strokeStyle;\r\n        ctx.fillStyle = color || fillStyle\r\n        ctx.beginPath();\r\n        points.forEach((t, i) => {\r\n            // if(i==0)\r\n\r\n            ctx.moveTo.apply(ctx, t)\r\n            let t1 = i + 1 < len ? points[i + 1] : points[0];\r\n            // let r = _dis(t, t1) \r\n            // ctx.moveTo.apply(ctx,t)\r\n            // ctx.arcTo.apply(ctx, o.concat(t1).concat([r]))\r\n\r\n            // var sAngle = a1 || 0;\r\n            // var eAngle = eAngle || (sAngle + Math.PI)\r\n            let a = Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"_atan\"])(t, t1) * Math.PI / 180\r\n            let r = Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"_dis\"])(t, t1) / 2\r\n            let ot = Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"_mid\"])(t, t1)\r\n            ctx.arc.apply(ctx, ot.concat([r, a, a + Math.PI * 2]))\r\n        })\r\n        ctx.stroke()\r\n        if (fill) {\r\n            ctx.fill()\r\n        }\r\n\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/entity/Circle.js?");

/***/ }),

/***/ "./src/entity/ColorBalls.js":
/*!**********************************!*\
  !*** ./src/entity/ColorBalls.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ColorBalls; });\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! . */ \"./src/entity/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils.js\");\n/* harmony import */ var _points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../points */ \"./src/points/index.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n// var cw = c.width = 500;\r\n// var ch = c.height = 500;\r\n// var cx = cw / 2,\r\n//     cy = ch / 2;\r\n// var rad = Math.PI / 180;\r\n// var frames = 0;\r\n\r\n// var R = 80;\r\n\r\nvar A = 1.5;\r\nvar B = 1;\r\nvar K = 3;\r\nvar phi = 0;\r\n\r\nclass ColorBalls extends ___WEBPACK_IMPORTED_MODULE_0__[\"BaseEntity\"] {\r\n    constructor(options) {\r\n        super(options)\r\n        this.setPoints(new _points__WEBPACK_IMPORTED_MODULE_2__[\"CurveSeg\"](options))\r\n        // let cs = new CurveSeg(options)\r\n        // this.cs = cs\r\n        // this.points = cs.points\r\n    }\r\n    // update() {\r\n    //     this.points = this.cs.seg()\r\n    // }\r\n    draw(ctx) {\r\n        let {\r\n            n\r\n        } = this\r\n        ctx.fillStyle = \"rgba(0,0,0,.15)\";\r\n        ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n\r\n        this.points.forEach((t, i) => {\r\n    \r\n            // ctx.beginPath();\r\n            let a = 360 * i / n\r\n            // ctx.fillStyle = \"hsl(\" + a + \",100%, 50%)\";\r\n            // let [x,y]=t\r\n            // ctx.arc(x, y, 3, 0, 2 * Math.PI);\r\n            // ctx.fill();\r\n\r\n            let ball=new ___WEBPACK_IMPORTED_MODULE_0__[\"Polygon\"]({\r\n                o:t,\r\n                color:\"hsl(\" + a + \",100%, 50%)\",\r\n                r:6,\r\n                n:2\r\n            })\r\n            ball.draw(ctx)\r\n\r\n        })\r\n    }\r\n\r\n    // draw(ctx) {\r\n    //     let {\r\n    //         o = [0, 0], r = 80, n = 3\r\n    //     } = this\r\n    //     phi++;\r\n    //     ctx.fillStyle = \"rgba(0,0,0,.15)\";\r\n    //     ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n    //     for (var a = 0; a < 360; a += 10) {\r\n\r\n    //         // var r2 = A * r + B * r * _sin(n * (a + phi)); // n = 0,1,2,3,4,5,.....360...\r\n\r\n    //         var r2 = r +  0.5*r * _sin(n * (a + phi));\r\n    //         // var x = o[0] + r2 * _cos(a);\r\n    //         // var y = o[1] + r2 * _sin(a);\r\n\r\n    //         let [x, y] = _polar(o, r2, a)\r\n\r\n    //         ctx.beginPath();\r\n    //         ctx.fillStyle = \"hsl(\" + a + \",100%, 50%)\";\r\n    //         ctx.arc(x, y, 3, 0, 2 * Math.PI);\r\n    //         ctx.fill();\r\n    //     }\r\n    //     // requestId = window.requestAnimationFrame(Draw);\r\n\r\n    // }\r\n\r\n}\n\n//# sourceURL=webpack:///./src/entity/ColorBalls.js?");

/***/ }),

/***/ "./src/entity/Controler.js":
/*!*********************************!*\
  !*** ./src/entity/Controler.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Controler; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.js\");\n/* harmony import */ var _points_Freeform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../points/Freeform */ \"./src/points/Freeform.js\");\n// 控制点\r\n\r\n\r\nclass Controler extends  _points_Freeform__WEBPACK_IMPORTED_MODULE_1__[\"default\"]{\r\n    constructor(options) {\r\n        super(options)\r\n        let {\r\n            ctx,\r\n            pos = []\r\n        } = options\r\n        this.ctx = ctx\r\n        this.pos = pos\r\n        // let {\r\n        //     points,\r\n        //     o\r\n        // } = new Freeform(options)\r\n        // this.points = points\r\n        // this.o = o\r\n\r\n        // let freeform=new Freeform(options)\r\n        // Object.assign(this,freeform)\r\n        //选中点序号   9999 表示中点\r\n        this.activePointIndex = -1\r\n    }\r\n\r\n    //绘制控制点\r\n    draw(ctx = this.ctx, o = this.o) {\r\n        this.drawPoints(ctx);\r\n        this.drawCenter(ctx, o);\r\n        // this.drawCPoints(ctx, o)\r\n        return this\r\n    }\r\n\r\n    //绘制顶点\r\n    drawPoints(ctx = this.ctx) {\r\n        if (!this.points) return\r\n        ctx.save();\r\n        ctx.lineWidth = 2;\r\n        ctx.strokeStyle = '#999';\r\n        ctx.font = \"12px Verdana\";\r\n        this.points.forEach((t, i) => {\r\n            ctx.beginPath();\r\n            ctx.arc(t[0], t[1], 5, 0, Math.PI * 2, false);\r\n            this.isInPath(ctx, t, i)\r\n            ctx.fillText(i, t[0], t[1]);\r\n            ctx.stroke();\r\n        });\r\n        ctx.restore();\r\n    }\r\n\r\n    //绘制中心点\r\n    drawCenter(ctx = this.ctx, o = this.o) {\r\n        ctx.save();\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = 'hsla(60,100%,45%,1)';\r\n        ctx.fillStyle = 'hsla(60,100%,50%,1)';\r\n        ctx.beginPath();\r\n        ctx.arc(o[0], o[1], 5, 0, Math.PI * 2, false);\r\n        this.isInPath(ctx, o, 9999)\r\n        ctx.stroke();\r\n        ctx.fill();\r\n        ctx.restore();\r\n    }\r\n    //判断鼠标 是否选中\r\n    isInPath(ctx = this.ctx, p, i, pos = this.pos) {\r\n        if (ctx.isPointInPath(pos[0], pos[1])) {\r\n            // ctx.fillStyle = 'hsla(60,100%,50%,1)';\r\n            ctx.fillStyle = '#333';\r\n            ctx.arc(p[0], p[1], 8, 0, Math.PI * 2, false);\r\n            ctx.fill();\r\n            this.activePointIndex = i\r\n        }\r\n    }\r\n\r\n    //判断鼠标是否选中对应的图形，选中哪个顶点，选中哪个控制点，中心点；\r\n    // isInPath(ctx = this.ctx, pos) {\r\n    //     for (var i = 0, point, len = this.points.length; i < len; i++) {\r\n    //         point = this.points[i];\r\n    //         ctx.beginPath();\r\n    //         ctx.arc(point[0], point[1], 5, 0, Math.PI * 2, false);\r\n    //         if (ctx.isPointInPath(pos[0], pos[1])) {\r\n    //             return i;\r\n    //         }\r\n    //     }\r\n    //     this.createPath(ctx);\r\n    //     if (ctx.isPointInPath(pos[0], pos[1])) {\r\n    //         return 9999;\r\n    //     }\r\n    //     return -1\r\n    // }\r\n\r\n    //生成控制点\r\n    createControlPoint(start, end, len) {\r\n        let angle = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_atan\"])(start, end),\r\n            c = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_dis\"])(start, end),\r\n            l = c + (!len ? 0 : c / len),\r\n            x2 = l * Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_cos\"])(angle) + start[0],\r\n            y2 = l * Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_sin\"])(angle) + start[1];\r\n        return [x2, y2]\r\n    }\r\n    // 控制点\r\n    drawCPoints(ctx = this.ctx, o = this.o) {\r\n        ctx.save();\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = 'hsla(0,0%,50%,1)';\r\n        ctx.fillStyle = 'hsla(0,100%,60%,1)';\r\n\r\n        this.cPoints = this.points.filter((t, i) => i == 0).map(t => {\r\n            return this.createControlPoint(o, t, 2)\r\n        })\r\n        this.cPoints.forEach(t => {\r\n            ctx.beginPath();\r\n            ctx.moveTo(o[0], o[1]);\r\n            ctx.lineTo(t[0], t[1]);\r\n            ctx.stroke();\r\n            ctx.beginPath();\r\n            ctx.arc(t[0], t[1], 6, 0, Math.PI * 2, false);\r\n            // this.isInPath(ctx, t, 8888)\r\n            ctx.stroke();\r\n            ctx.fill();\r\n        });\r\n        ctx.restore();\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/entity/Controler.js?");

/***/ }),

/***/ "./src/entity/FoldLine.js":
/*!********************************!*\
  !*** ./src/entity/FoldLine.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FoldLine; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.js\");\n/* harmony import */ var _BaseEntity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BaseEntity */ \"./src/entity/BaseEntity.js\");\n// 折线\r\n\r\n\r\n\r\nclass FoldLine extends _BaseEntity__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\r\n    constructor(options) {\r\n        super(options)\r\n        let {\r\n            p1,\r\n            p2\r\n        } = options\r\n        this.p1 = p1\r\n        this.p2 = p2\r\n        // let r1 = _dis(p1, p2)/2\r\n        // this.o1 = _mid(p1, p2)\r\n\r\n        // let a = 90\r\n        // let p3 = [p1[0] - r1 * _cos(a), p1[1] + r1 * _sin(a)]\r\n        // let p4 = [p2[0] + r1 * _cos(a), p2[1] - r1 * _sin(a)]\r\n\r\n        // this.points = [p1, p4, p3, p2]\r\n\r\n        // this.points = [p1,p2]\r\n        this.level=0\r\n\r\n        this.points = this.fold(p1,p2)\r\n       \r\n\r\n    }\r\n    fold(p1,p2){\r\n       \r\n\r\n        let r1 = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_dis\"])(p1, p2)/2\r\n       let o1 = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_mid\"])(p1, p2)\r\n\r\n        let a = 90\r\n        let p3 = [o1[0] + r1 * Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_cos\"])(a), o1[1] + r1 * Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_sin\"])(a)]\r\n\r\n        // let p3 = [p1[0] - r1 * _cos(a), p1[1] + r1 * _sin(a)]\r\n        // let p4 = [p2[0] + r1 * _cos(a), p2[1] - r1 * _sin(a)]\r\n\r\n        if(this.level++>=10){\r\n            // return [p1, p4, p3, p2]\r\n            return [p1,  p3, p2]\r\n        }\r\n\r\n        return [...this.fold(p1,p3),...this.fold(p3, p2)]\r\n\r\n        // return [...this.fold(p1,p4),...this.fold(p3, p2)]\r\n\r\n    //    return [...this.fold(p1,p4),...this.fold(p4, p3),...this.fold(p3, p2)]\r\n\r\n        // return [p1, p4, p3, p2]\r\n\r\n\r\n\r\n    }\r\n\r\n    //连线\r\n    line(ctx) {\r\n        let {\r\n            points\r\n        } = this\r\n        let {\r\n            fillStyle,\r\n            strokeStyle = \"#FF0000\",\r\n            closePath = true,\r\n            colors,\r\n            index = 0\r\n        } = this\r\n        if (colors)\r\n            strokeStyle = colors[index]\r\n        if (fillStyle) ctx.fillStyle = fillStyle //\"white\"\r\n        ctx.strokeStyle = strokeStyle;\r\n        ctx.beginPath();\r\n        points.forEach((t, i) => {\r\n            ctx[i == 0 ? 'moveTo' : 'lineTo'].apply(ctx, t)\r\n        });\r\n        // if (closePath)\r\n        //     ctx.closePath();\r\n        ctx.stroke()\r\n        if (fillStyle) ctx.fill()\r\n    };\r\n    draw(ctx) {\r\n        this.line(ctx)\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\n\n//# sourceURL=webpack:///./src/entity/FoldLine.js?");

/***/ }),

/***/ "./src/entity/Polygon.js":
/*!*******************************!*\
  !*** ./src/entity/Polygon.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Polygon; });\n/* harmony import */ var _BaseEntity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseEntity */ \"./src/entity/BaseEntity.js\");\n/* harmony import */ var _points__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../points */ \"./src/points/index.js\");\n// 多边形\r\n\r\n\r\nclass Polygon extends _BaseEntity__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(options) {\r\n        super(options)\r\n        this.setPoints(new _points__WEBPACK_IMPORTED_MODULE_1__[\"ArcSeg\"](options))\r\n    }\r\n    update(options) {\r\n        Object.assign(this, options)\r\n        return this.setPoints(new _points__WEBPACK_IMPORTED_MODULE_1__[\"ArcSeg\"](this))\r\n        // return this.setPoints(new ArcSeg(options))\r\n    }\r\n    //连线\r\n    line(ctx) {\r\n        let {\r\n            fillStyle = \"#FF0000\",\r\n                strokeStyle = \"#FF0000\",\r\n                closePath = true,\r\n                points,\r\n                color,\r\n                fill,\r\n                lineWidth = 1\r\n        } = this\r\n        ctx.fillStyle = color || fillStyle\r\n        ctx.strokeStyle = color || strokeStyle;\r\n        ctx.lineWidth = lineWidth\r\n\r\n        ctx.beginPath();\r\n        points.forEach((t, i) => {\r\n            ctx[i == 0 ? 'moveTo' : 'lineTo'].apply(ctx, t)\r\n        });\r\n\r\n        if (closePath) {\r\n            ctx.closePath();\r\n        }\r\n        ctx.stroke()\r\n        if (fill) {\r\n            ctx.fill()\r\n        }\r\n    };\r\n    // update(ctx) {\r\n    //     // this.tx += this.vx\r\n    //     // this.ty += this.vy\r\n    //     // ctx.translate(this.tx, this.ty)\r\n    // }\r\n\r\n    draw(ctx = this.ctx) {\r\n        this.line(ctx)\r\n        if (this.showController) {\r\n            this.drawController(ctx)\r\n        }\r\n        return this\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/entity/Polygon.js?");

/***/ }),

/***/ "./src/entity/Ray.js":
/*!***************************!*\
  !*** ./src/entity/Ray.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Ray; });\n/* harmony import */ var _BaseEntity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseEntity */ \"./src/entity/BaseEntity.js\");\n/* harmony import */ var _points__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../points */ \"./src/points/index.js\");\n//射线\r\n//一中心p,多中心o [p1,p2]\r\n\r\n\r\nclass Ray extends _BaseEntity__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(options) {\r\n        super(options)\r\n        this.setPoints(new _points__WEBPACK_IMPORTED_MODULE_1__[\"ArcSeg\"](options))\r\n    }\r\n    draw(ctx) {\r\n        let {\r\n            o,\r\n            strokeStyle = \"#000\",\r\n            colors,\r\n            index = 0,\r\n            points,\r\n            color\r\n        } = this\r\n        if (colors) {\r\n            ctx.strokeStyle = colors[index]\r\n        } else {\r\n            ctx.strokeStyle = color||strokeStyle;\r\n        }\r\n\r\n        ctx.beginPath();\r\n        if (Array.isArray(o[0])) { //二维数组  多中心\r\n            var n = o.length;\r\n            points.forEach((t, i) => {\r\n                ctx.moveTo.apply(ctx, o[i % n])\r\n                ctx.lineTo.apply(ctx, t)\r\n            })\r\n        } else {\r\n            points.forEach((t, i) => {\r\n                ctx.moveTo.apply(ctx, o)\r\n                ctx.lineTo.apply(ctx, t)\r\n            })\r\n        }\r\n        ctx.stroke()\r\n\r\n    }\r\n\r\n}\r\n\n\n//# sourceURL=webpack:///./src/entity/Ray.js?");

/***/ }),

/***/ "./src/entity/Rect.js":
/*!****************************!*\
  !*** ./src/entity/Rect.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Rect; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.js\");\n/* harmony import */ var _BaseEntity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BaseEntity */ \"./src/entity/BaseEntity.js\");\n/* harmony import */ var _points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../points */ \"./src/points/index.js\");\n// 矩形\r\n\r\n\r\n\r\nlet index=0\r\nclass Rect extends _BaseEntity__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\r\n    constructor(options) {\r\n        super(options)\r\n        this.setPoints(new _points__WEBPACK_IMPORTED_MODULE_2__[\"ArcSeg\"](options))\r\n\r\n        \r\n        this.rectWidth = this.r * Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_sin\"])(this.a) *2\r\n        this.rectHeight = this.r * Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_cos\"])(this.a)*2\r\n        // this.index=0\r\n    }\r\n\r\n    draw(ctx) {\r\n        index++\r\n        // ctx.save();\r\n        ctx.beginPath();\r\n        // ctx.fillStyle = \"#FF0000\"\r\n        ctx.fillStyle = 'rgb(' + (51 * index) + ', ' + (255 - 51 * index) + ', 255)';\r\n        // ctx.translate(this.x, this.y);\r\n        // ctx.fillRect(0, 0, this.rectWidth, this.rectHeight);\r\n        ctx.fillRect(this.x, this.y, this.rectWidth, this.rectHeight);\r\n        // ctx.fill();\r\n        // ctx.restore();\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/entity/Rect.js?");

/***/ }),

/***/ "./src/entity/RoundRect.js":
/*!*********************************!*\
  !*** ./src/entity/RoundRect.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return RoundRect; });\n/* harmony import */ var _BaseEntity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseEntity */ \"./src/entity/BaseEntity.js\");\n// 圆角矩形\r\n\r\n\r\nclass RoundRect extends _BaseEntity__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(options) {\r\n        super(options)\r\n    }\r\n    draw() {\r\n        this.fillRoundRect()\r\n    }\r\n    fillRoundRect() {\r\n        let {\r\n            x,\r\n            y,\r\n            width,\r\n            height,\r\n            radius = 5,\r\n            fillColor,\r\n            fill,\r\n            color = 'red',\r\n            strokeColor,\r\n            ctx\r\n        } = this\r\n        //圆的直径必然要小于矩形的宽高          \r\n        if (2 * radius > width || 2 * radius > height) {\r\n            return false;\r\n        }\r\n\r\n        ctx.save();\r\n        ctx.translate(x, y);\r\n        //绘制圆角矩形的各个边  \r\n        this.drawRoundRectPath(width, height, radius);\r\n        ctx.fillStyle = fillColor || color; //若是给定了值就用给定的值否则给予默认值  \r\n        ctx.strokeStyle = strokeColor || color\r\n        if (fill) {\r\n            ctx.fill();\r\n        }\r\n        ctx.stroke()\r\n        ctx.restore();\r\n    }\r\n    strokeRoundRect(x, y, width, height, radius, /*optional*/ lineWidth, /*optional*/ strokeColor) {\r\n        let ctx = this.ctx\r\n        //圆的直径必然要小于矩形的宽高          \r\n        if (2 * radius > width || 2 * radius > height) {\r\n            return false;\r\n        }\r\n\r\n        ctx.save();\r\n        ctx.translate(x, y);\r\n        //绘制圆角矩形的各个边  \r\n        this.drawRoundRectPath(width, height, radius);\r\n        ctx.lineWidth = lineWidth || 2; //若是给定了值就用给定的值否则给予默认值2  \r\n        ctx.strokeStyle = strokeColor || \"#000\";\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n\r\n    drawRoundRectPath(width, height, radius) {\r\n        let ctx = this.ctx\r\n        ctx.beginPath(0);\r\n        //从右下角顺时针绘制，弧度从0到1/2PI  \r\n        ctx.arc(width - radius, height - radius, radius, 0, Math.PI / 2);\r\n\r\n        //矩形下边线  \r\n        ctx.lineTo(radius, height);\r\n\r\n        //左下角圆弧，弧度从1/2PI到PI  \r\n        ctx.arc(radius, height - radius, radius, Math.PI / 2, Math.PI);\r\n\r\n        //矩形左边线  \r\n        ctx.lineTo(0, radius);\r\n\r\n        //左上角圆弧，弧度从PI到3/2PI  \r\n        ctx.arc(radius, radius, radius, Math.PI, Math.PI * 3 / 2);\r\n\r\n        //上边线  \r\n        ctx.lineTo(width - radius, 0);\r\n\r\n        //右上角圆弧  \r\n        ctx.arc(width - radius, radius, radius, Math.PI * 3 / 2, Math.PI * 2);\r\n\r\n        //右边线  \r\n        ctx.lineTo(width, height - radius);\r\n        ctx.closePath();\r\n    }\r\n\r\n}\n\n//# sourceURL=webpack:///./src/entity/RoundRect.js?");

/***/ }),

/***/ "./src/entity/Stick.js":
/*!*****************************!*\
  !*** ./src/entity/Stick.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Stick; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.js\");\n/* harmony import */ var _BaseEntity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BaseEntity */ \"./src/entity/BaseEntity.js\");\n\r\n\r\n// 线段\r\n\r\nclass Stick extends _BaseEntity__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\r\n    constructor(options) {\r\n        super(options)\r\n        \r\n        // this.calculate()\r\n        // this.a2 = 0\r\n        // this.va2 = Math.random()\r\n        // this.speed = Math.random()\r\n        this.calculate()\r\n    }\r\n\r\n    // update() {\r\n    //     // this.move();\r\n    //     // this.roll();\r\n    //     // this.calculate();\r\n    //     // this.roll2();\r\n    //     // this.calculate2();\r\n    //     this.move2()\r\n    //     this.calculate();\r\n\r\n    // }\r\n    // 匀速边转边移动\r\n    calculate() {\r\n        let {\r\n            o,\r\n            r,\r\n            a\r\n        } = this\r\n\r\n        // 两端\r\n        this.p1 = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_polar\"])(o, r, a) //[o[0] + r * _cos(a), o[1] + r * _sin(a)]\r\n        this.p2 = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_polar\"])(o, r, a + 180) //[o[0] - r * _cos(a), o[1] - r * _sin(a)]\r\n\r\n        // this.points=[this.p1,this.p2]\r\n\r\n    }\r\n    calculate2() {\r\n        let {\r\n            p1,\r\n            p2,\r\n            r,\r\n            a2\r\n        } = this\r\n        a2 %= 360\r\n        if (a2 < 180) {\r\n            this.p1 = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_polar\"])(p2, 2 * r, a2)\r\n            // this.p1 = [p2[0] + 2 * r * Math.cos(a2 * Math.PI / 180), p2[1] + 2 * r * Math.sin(a2 * Math.PI / 180)]\r\n        } else {\r\n            this.p2 = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_polar\"])(p1, 2 * r, a2 + 180)\r\n            // this.p2 = [p1[0] - 2 * r * Math.cos(a2 * Math.PI / 180), p1[1] - 2 * r * Math.sin(a2 * Math.PI / 180)]\r\n        }\r\n        // this.o = [(this.p1[0] + this.p2[0]) / 2, (this.p1[1] + this.p2[1]) / 2]\r\n        this.o = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_mid\"])(this.p1, this.p2)\r\n\r\n    }\r\n\r\n    // //移动\r\n    // move() {\r\n    //     // this.o = [this.o[0] + this.vx, this.o[1] + this.vy]\r\n    //     this.o[0] += this.vx\r\n    //     this.o[1] += this.vy\r\n    // }\r\n    // move2() {\r\n    //     this.o[0] += Math.cos(this.a) * this.speed;\r\n    //     this.o[1] += Math.sin(this.a) * this.speed;\r\n    //     this.a += Math.random() * 0.8 - 0.4;\r\n    // }\r\n\r\n    // roll2() {\r\n    //     this.a2 += this.va2\r\n    // }\r\n\r\n\r\n    draw(ctx) {\r\n        let {points}=this\r\n        ctx.strokeStyle = \"#0000ff\"; // \"#000\";\r\n        ctx.beginPath();\r\n        ctx.moveTo.apply(ctx, this.p1)\r\n        ctx.lineTo.apply(ctx, this.p2)\r\n\r\n        ctx.stroke()\r\n        // ctx.endPath()\r\n    }\r\n\r\n\r\n\r\n}\r\n\n\n//# sourceURL=webpack:///./src/entity/Stick.js?");

/***/ }),

/***/ "./src/entity/Text.js":
/*!****************************!*\
  !*** ./src/entity/Text.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Text; });\n/* harmony import */ var _BaseEntity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseEntity */ \"./src/entity/BaseEntity.js\");\n// 文字\r\n\r\n\r\n\r\nclass Text extends _BaseEntity__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(options) {\r\n        super(options)\r\n        // this.maxWidth = this.width\r\n        this.set(\"maxWidth\", this.width)\r\n        // this.set(\"lineHeight\",)\r\n        // // if (typeof lineHeight == 'undefined') {\r\n        // //     let canvas = ctx.canvas;\r\n        // //     lineHeight = (canvas && parseInt(window.getComputedStyle(canvas).lineHeight)) || parseInt(window.getComputedStyle(document.body).lineHeight);\r\n        // // }\r\n\r\n        // console.log(\"lineHeight\" + lineHeight)\r\n    }\r\n    // draw\r\n    //文字\r\n    draw() {\r\n        let {\r\n            ctx,\r\n            o,\r\n            text = \"A\",\r\n            pos = [0, 0],\r\n            // x = 0,\r\n            // y = 0,\r\n            fontSize = 20,\r\n            fillStyle = \"#FF0000\",\r\n            maxWidth,\r\n            border = false,\r\n            wrap = false,\r\n            letterSpacing = false\r\n\r\n        } = this\r\n        let [x, y] = pos\r\n        ctx.font = fontSize + 'px Verdana';\r\n\r\n\r\n        if (wrap) {\r\n            this.wrapText()\r\n        } else if (letterSpacing) {\r\n            this.letterSpacingText()\r\n        } else {\r\n            ctx.fillStyle = fillStyle\r\n\r\n            // ctx.fillText(text, o[0] + x, o[1] + y);\r\n            ctx.fillText(text, x, y, maxWidth);\r\n        }\r\n        if (border) {\r\n            this._border()\r\n        }\r\n    }\r\n    // 边框\r\n    _border() {\r\n        let {\r\n            ctx,\r\n            // x,\r\n            // y,\r\n            pos = [0, 0],\r\n            width,\r\n            height,\r\n            fontSize = 20\r\n        } = this\r\n        let [x, y] = pos\r\n        ctx.beginPath();\r\n        ctx.rect(x, y - fontSize, width, fontSize);\r\n        ctx.lineWidth = 0.5;\r\n        ctx.stroke();\r\n\r\n        // ctx.fillStyle = \"#FF0000\"\r\n        // // ctx.fillStyle = 'rgb(' + (51 * index) + ', ' + (255 - 51 * index) + ', 255)';\r\n        // // ctx.translate(this.x, this.y);\r\n        // // ctx.fillRect(0, 0, this.rectWidth, this.rectHeight);\r\n        // ctx.fillRect(x, y, width, height);\r\n    }\r\n\r\n    wrapText() {\r\n        let {\r\n            ctx,\r\n            text,\r\n            pos,\r\n            // x,\r\n            // y,\r\n            maxWidth,\r\n            lineHeight = 20\r\n        } = this\r\n        let [x, y] = pos\r\n        // if (typeof text != 'string' || typeof x != 'number' || typeof y != 'number') {\r\n        //     return;\r\n        // }\r\n\r\n        // var context = this;\r\n\r\n\r\n        // if (typeof maxWidth == 'undefined') {\r\n        //     maxWidth = (canvas && canvas.width) || 300;\r\n        // }\r\n\r\n\r\n        // 字符分隔为数组\r\n        var arrText = text.split('');\r\n        var line = '';\r\n\r\n        for (var n = 0; n < arrText.length; n++) {\r\n            var testLine = line + arrText[n];\r\n            var metrics = ctx.measureText(testLine);\r\n            console.log(metrics)\r\n            var testWidth = metrics.width;\r\n            if (testWidth > maxWidth && n > 0) {\r\n                ctx.fillText(line, x, y);\r\n                line = arrText[n];\r\n                y += lineHeight;\r\n            } else {\r\n                line = testLine;\r\n            }\r\n        }\r\n        ctx.fillText(line, x, y);\r\n    }\r\n    letterSpacingText() {\r\n        let {\r\n            ctx,\r\n            text,\r\n            pos,\r\n            // x,\r\n            // y,\r\n            maxWidth,\r\n            lineHeight = 20,\r\n            letterSpacing\r\n        } = this\r\n        let [x, y] = pos\r\n        var arrText = text.split('');\r\n        var align = ctx.textAlign || 'left';\r\n\r\n        // 这里仅考虑水平排列\r\n        var originWidth = ctx.measureText(text).width;\r\n        // 应用letterSpacing占据宽度\r\n        var actualWidth = originWidth + letterSpacing * (arrText.length - 1);\r\n        // 根据水平对齐方式确定第一个字符的坐标\r\n        if (align == 'center') {\r\n            x = x - actualWidth / 2;\r\n        } else if (align == 'right') {\r\n            x = x - actualWidth;\r\n        }\r\n\r\n        // 临时修改为文本左对齐\r\n        ctx.textAlign = 'left';\r\n        // 开始逐字绘制\r\n        arrText.forEach(function (letter) {\r\n            var letterWidth = ctx.measureText(letter).width;\r\n            ctx.fillText(letter, x, y);\r\n            // 确定下一个字符的横坐标\r\n            x = x + letterWidth + letterSpacing;\r\n        });\r\n        // 对齐方式还原\r\n        ctx.textAlign = align;\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/entity/Text.js?");

/***/ }),

/***/ "./src/entity/index.js":
/*!*****************************!*\
  !*** ./src/entity/index.js ***!
  \*****************************/
/*! exports provided: BaseEntity, Ball, Stick, Polygon, Rect, FoldLine, Ray, Text, Arc, ArcTo, Circle, ColorBalls, RoundRect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _BaseEntity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseEntity */ \"./src/entity/BaseEntity.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"BaseEntity\", function() { return _BaseEntity__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _Ball__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Ball */ \"./src/entity/Ball.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ball\", function() { return _Ball__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _Stick__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Stick */ \"./src/entity/Stick.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Stick\", function() { return _Stick__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _Polygon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Polygon */ \"./src/entity/Polygon.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Polygon\", function() { return _Polygon__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _Rect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Rect */ \"./src/entity/Rect.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Rect\", function() { return _Rect__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _FoldLine__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FoldLine */ \"./src/entity/FoldLine.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FoldLine\", function() { return _FoldLine__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n/* harmony import */ var _Ray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Ray */ \"./src/entity/Ray.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ray\", function() { return _Ray__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Text */ \"./src/entity/Text.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Text\", function() { return _Text__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; });\n\n/* harmony import */ var _Arc__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Arc */ \"./src/entity/Arc.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Arc\", function() { return _Arc__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; });\n\n/* harmony import */ var _ArcTo__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ArcTo */ \"./src/entity/ArcTo.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ArcTo\", function() { return _ArcTo__WEBPACK_IMPORTED_MODULE_9__[\"default\"]; });\n\n/* harmony import */ var _Circle__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Circle */ \"./src/entity/Circle.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Circle\", function() { return _Circle__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; });\n\n/* harmony import */ var _ColorBalls__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ColorBalls */ \"./src/entity/ColorBalls.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ColorBalls\", function() { return _ColorBalls__WEBPACK_IMPORTED_MODULE_11__[\"default\"]; });\n\n/* harmony import */ var _RoundRect__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./RoundRect */ \"./src/entity/RoundRect.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RoundRect\", function() { return _RoundRect__WEBPACK_IMPORTED_MODULE_12__[\"default\"]; });\n\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/entity/index.js?");

/***/ }),

/***/ "./src/filter.js":
/*!***********************!*\
  !*** ./src/filter.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n//反色\r\nfunction reverse(canvas) {\r\n    let ctx = canvas.getContext(\"2d\")\r\n    let cols = canvas.width;\r\n    let rows = canvas.height;\r\n    let imgData = ctx.getImageData(0, 0, cols, rows)\r\n    let data = imgData.data\r\n    var len = imgData.data.length;\r\n    for (var i = 0; i < len; i += 4) {\r\n        let r = data[i],\r\n            g = data[i + 1],\r\n            b = data[i + 2]\r\n\r\n        data[i] = 255 - r;\r\n        data[i + 1] = 255 - g;\r\n        data[i + 2] = 255 - b;\r\n        data[i + 3] = 255;\r\n    }\r\n    ctx.putImageData(imgData, 0, 0);\r\n}\r\n\r\n//灰色\r\n//  newr = (r * 0.272) + (g * 0.534) + (b * 0.131);\r\n//  newg = (r * 0.349) + (g * 0.686) + (b * 0.168);\r\n//  newb = (r * 0.393) + (g * 0.769) + (b * 0.189);\r\n\r\nfunction gray(canvas) {\r\n    let ctx = canvas.getContext(\"2d\")\r\n    let cols = canvas.width;\r\n    let rows = canvas.height;\r\n    let imgData = ctx.getImageData(0, 0, cols, rows)\r\n    let data = imgData.data\r\n    var len = imgData.data.length;\r\n    for (var i = 0; i < len; i += 4) {\r\n        // var avg = (data[i] + data[i + 1] + data[i + 2]) / 3;\r\n        // data[i] = avg;\r\n        // data[i + 1] = avg;\r\n        // data[i + 2] = avg;\r\n        let r = data[i],\r\n            g = data[i + 1],\r\n            b = data[i + 2]\r\n\r\n        data[i] = (r * 0.272) + (g * 0.534) + (b * 0.131);\r\n        data[i + 1] = (r * 0.349) + (g * 0.686) + (b * 0.168);\r\n        data[i + 2] = (r * 0.393) + (g * 0.769) + (b * 0.189);\r\n    }\r\n    ctx.putImageData(imgData, 0, 0);\r\n}\r\n\r\n\r\n/**\r\n * deep clone image data of canvas\r\n * \r\n * @param context\r\n * @param src\r\n * @returns\r\n */\r\nvar copyImageData = function (context, src) {\r\n    var dst = context.createImageData(src.width, src.height);\r\n    dst.data.set(src.data);\r\n    return dst;\r\n}\r\n/**\r\n * after pixel value - before pixel value + 128\r\n * 浮雕效果\r\n */\r\nvar relief = function (canvas) { //context, canvasData\r\n    let ctx = canvas.getContext(\"2d\")\r\n    let cols = canvas.width;\r\n    let rows = canvas.height;\r\n    let imgData = ctx.getImageData(0, 0, cols, rows)\r\n    let data = imgData.data\r\n    console.log(\"Canvas Filter - relief process\");\r\n    var tempCanvasData = copyImageData(ctx, imgData);\r\n    for (var x = 1; x < tempCanvasData.width - 1; x++) {\r\n        for (var y = 1; y < tempCanvasData.height - 1; y++) {\r\n\r\n            // Index of the pixel in the array    \r\n            var idx = (x + y * tempCanvasData.width) * 4;\r\n            var bidx = ((x - 1) + y * tempCanvasData.width) * 4;\r\n            var aidx = ((x + 1) + y * tempCanvasData.width) * 4;\r\n\r\n            // calculate new RGB value\r\n            var nr = tempCanvasData.data[aidx + 0] - tempCanvasData.data[bidx + 0] + 128;\r\n            var ng = tempCanvasData.data[aidx + 1] - tempCanvasData.data[bidx + 1] + 128;\r\n            var nb = tempCanvasData.data[aidx + 2] - tempCanvasData.data[bidx + 2] + 128;\r\n            nr = (nr < 0) ? 0 : ((nr > 255) ? 255 : nr);\r\n            ng = (ng < 0) ? 0 : ((ng > 255) ? 255 : ng);\r\n            nb = (nb < 0) ? 0 : ((nb > 255) ? 255 : nb);\r\n\r\n            // assign new pixel value    \r\n            imgData.data[idx + 0] = nr; // Red channel    \r\n            imgData.data[idx + 1] = ng; // Green channel    \r\n            imgData.data[idx + 2] = nb; // Blue channel    \r\n            imgData.data[idx + 3] = 255; // Alpha channel    \r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n/**\r\n * convolution - keneral size 5*5 - blur effect filter(模糊效果)\r\n * \r\n */\r\nvar blur = function (canvas) {\r\n    let ctx = canvas.getContext(\"2d\")\r\n    let cols = canvas.width;\r\n    let rows = canvas.height;\r\n    let imgData = ctx.getImageData(0, 0, cols, rows)\r\n    let data = imgData.data\r\n    console.log(\"Canvas Filter - blur process\");\r\n    var tempCanvasData = copyImageData(ctx, imgData);\r\n    var sumred = 0.0,\r\n        sumgreen = 0.0,\r\n        sumblue = 0.0;\r\n    for (var x = 0; x < tempCanvasData.width; x++) {\r\n        for (var y = 0; y < tempCanvasData.height; y++) {\r\n\r\n            // Index of the pixel in the array    \r\n            var idx = (x + y * tempCanvasData.width) * 4;\r\n            for (var subCol = -2; subCol <= 2; subCol++) {\r\n                var colOff = subCol + x;\r\n                if (colOff < 0 || colOff >= tempCanvasData.width) {\r\n                    colOff = 0;\r\n                }\r\n                for (var subRow = -2; subRow <= 2; subRow++) {\r\n                    var rowOff = subRow + y;\r\n                    if (rowOff < 0 || rowOff >= tempCanvasData.height) {\r\n                        rowOff = 0;\r\n                    }\r\n                    var idx2 = (colOff + rowOff * tempCanvasData.width) * 4;\r\n                    var r = tempCanvasData.data[idx2 + 0];\r\n                    var g = tempCanvasData.data[idx2 + 1];\r\n                    var b = tempCanvasData.data[idx2 + 2];\r\n                    sumred += r;\r\n                    sumgreen += g;\r\n                    sumblue += b;\r\n                }\r\n            }\r\n\r\n            // calculate new RGB value\r\n            var nr = (sumred / 25.0);\r\n            var ng = (sumgreen / 25.0);\r\n            var nb = (sumblue / 25.0);\r\n\r\n            // clear previous for next pixel point\r\n            sumred = 0.0;\r\n            sumgreen = 0.0;\r\n            sumblue = 0.0;\r\n\r\n            // assign new pixel value    \r\n            imgData.data[idx + 0] = nr; // Red channel    \r\n            imgData.data[idx + 1] = ng; // Green channel    \r\n            imgData.data[idx + 2] = nb; // Blue channel    \r\n            imgData.data[idx + 3] = 255; // Alpha channel    \r\n        }\r\n    }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    reverse,\r\n    gray,\r\n    relief,\r\n    blur\r\n});\n\n//# sourceURL=webpack:///./src/filter.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _sample_roundrect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sample/roundrect */ \"./src/sample/roundrect.js\");\n// import shape from \"./sample/shape\"\r\n\r\n// import double from \"./sample/double\"\r\n\r\n// import './sample/text'\r\n\r\n\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/lattice.js":
/*!************************!*\
  !*** ./src/lattice.js ***!
  \************************/
/*! exports provided: latticepoints */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"latticepoints\", function() { return latticepoints; });\n/* harmony import */ var _sort__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sort */ \"./src/sort.js\");\n//dotarray 点阵\r\n\r\n\r\nfunction _lattice({\r\n    a,\r\n    b\r\n}) {\r\n    let points = []\r\n    for (let i = -1 * a; i < a; i++) {\r\n        for (let j = -1 * b; j < b; j++) {\r\n            points.push([i, j])\r\n        }\r\n    }\r\n    return points\r\n}\r\n// {\r\n//     width,\r\n//     height\r\n// },\r\n//图形点阵\r\nfunction latticepoints(options) {\r\n    let {\r\n        o = [0, 0],\r\n            n = 3,\r\n            r = 10\r\n    } = options\r\n    let points = []\r\n\r\n    if (Array.isArray(n)) {\r\n        points = _lattice({\r\n            a: n[0],\r\n            b: n[1] || n[0]\r\n        }).map(t => [t[0] * r + o[0], t[1] * r + o[1]])\r\n    } else {\r\n        points = _lattice({\r\n            a: n,\r\n            b: n\r\n        }).map(t => [t[0] * r + o[0], t[1] * r + o[1]])\r\n    }\r\n\r\n    if (options.sort &&\r\n        _sort__WEBPACK_IMPORTED_MODULE_0__[\"default\"][options.sort]) {\r\n        points = _sort__WEBPACK_IMPORTED_MODULE_0__[\"default\"][options.sort](points)\r\n    }\r\n    return points\r\n}\r\n\r\n\r\n// //图形点阵\r\n// function lattice(canvas) {\r\n//     let ctx = canvas.getContext(\"2d\")\r\n//     let cols = canvas.width;\r\n//     let rows = canvas.height;\r\n//     var imgData = ctx.getImageData(0, 0, cols, rows)\r\n//     let data = imgData.data\r\n//     // console.log(data)\r\n//     var len = imgData.data.length;\r\n//     var res = [];\r\n//     for (var i = 0; i < rows; i++) {\r\n//         for (var j = 0; j < cols; j++) {\r\n//             var pos = (i * cols + j) * 4;\r\n//             if (data[pos] > 0) {\r\n//                 res.push([j, i])\r\n//             }\r\n//         }\r\n//     }\r\n//     return res\r\n// }\r\n\r\n\r\n\r\n// for (var i = 1; i <= rows; i++) {\r\n//     for (var j = 1; j <= cols; j++) {\r\n//         var pos = ((i - 1) * cols + (j)) * 4 - 1;\r\n//         if (data.data[pos] > 0) {\r\n//             // res += `<span class=\"black\" style=\"left: ${j*10}px;top: ${i*10}px\"></span>`\r\n//             // res.push([j * 10, i * 10])\r\n//             res.push([j , i ])\r\n//         }\r\n//     }\r\n// }\r\n// wrap.innerHTML = res;\r\n// //获取图片像素点阵\r\n// var canvas = document.createElement('canvas');\r\n// var ctx = canvas.getContext('2d');\r\n// var cols = 16;\r\n// var rows = 16;\r\n\r\n// function lattice(txt){\r\n//     cols = txt.length * 16\r\n//     canvas.width = cols;\r\n//     canvas.height = rows;\r\n//     ctx.clearRect(0,0,cols,rows);\r\n//     ctx.font = \"16px SimSun\";\r\n//     ctx.fillStyle = \"#000\";\r\n//     ctx.fillText(txt, 0, 14);\r\n//     var data = ctx.getImageData(0, 0, cols, rows)\r\n//     var len = data.data.length;\r\n//     var res = '';\r\n//     for(var i = 1; i <= rows; i++){\r\n//         for(var j = 1; j <= cols; j++){\r\n//             var pos = (( i-1 )*cols+( j ))*4 -1;\r\n//             if(data.data[pos] > 0){\r\n//                 res += `<span class=\"black\" style=\"left: ${j*10}px;top: ${i*10}px\"></span>`\r\n//             }\r\n//         }\r\n//     }\r\n//     wrap.innerHTML = res;\r\n// }\r\n// function draw(){\r\n//     var txt = text.value;\r\n//     if(txt){\r\n//         lattice(txt);\r\n//     }\r\n// }    \r\n// draw();\n\n//# sourceURL=webpack:///./src/lattice.js?");

/***/ }),

/***/ "./src/points/ArcSeg.js":
/*!******************************!*\
  !*** ./src/points/ArcSeg.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ArcSeg; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.js\");\n/* harmony import */ var _PolarSeg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PolarSeg */ \"./src/points/PolarSeg.js\");\n//圆弧切割 arc seg\r\n// import sort from '../sort'\r\n\r\n\r\n\r\n\r\n//顶点 vertices\r\n//分割点\r\n// 参数：[x,y],[r1,r2],n\r\n//半径 r,r1~r2  , [r1,r2,r3]\r\n//optionsions{o:[xy],r:[r1,r2],n:n,rn:\"random\"}\r\n//regular, direction, a1\r\n//圆弧分割  Arc segmentation\r\nclass ArcSeg extends _PolarSeg__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\r\n    constructor(options) {\r\n        super(options)\r\n        this.points = this.seg()\r\n        this.phi=0\r\n    }\r\n\r\n    seg() {\r\n        let {\r\n            o,\r\n            r,\r\n            n,\r\n            a1=0,\r\n            a2=360\r\n        } = this\r\n        let points = [];\r\n        for (let i = 0; i < n; i++) {\r\n            // a = i * 2 * Math.PI / n + (a1 / 2 * Math.PI) //等角\r\n            // points[i] = [o[0] + r * Math.cos(a), o[1] + r * Math.sin(a)]\r\n            let a = a1 + i * (a2 - a1) / n\r\n            // points[points.length] = [o[0] + r * _cos(a), o[1] + r * _sin(a)]\r\n            let r2 = r + 0.5 * r * Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_sin\"])(this.phi)\r\n            points[i] = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_polar\"])(o, r2, a)\r\n        }\r\n        this.phi++\r\n        return points\r\n    }\r\n\r\n    //     //生成控制点\r\n    // createControlPoint(start, end, len) {\r\n    //     var x1 = end.x - start.x,\r\n    //         y1 = end.y - start.y,\r\n    //         angle = Math.atan2(y1, x1),\r\n    //         c = Math.round(Math.sqrt(x1 * x1 + y1 * y1)),\r\n    //         l = c + (!len ? 0 : c / len),\r\n    //         x2 = l * Math.cos(angle) + start.x,\r\n    //         y2 = l * Math.sin(angle) + start.y;\r\n    //     return {\r\n    //         x: x2,\r\n    //         y: y2\r\n    //     };\r\n    // }\r\n\r\n}\r\n// function arcseg(options) {\r\n//     let {\r\n//         o = [0, 0],\r\n//             r = 100,\r\n//             n = 3,\r\n//             a1 = 0,\r\n//             direction,\r\n//             regular = true\r\n//     } = options\r\n//     var points = [],\r\n//         a;\r\n\r\n//     var _seg = function (o, r, n, i, regular, direction) {\r\n//         if (regular) {\r\n//             if (direction === \"top\") {\r\n//                 a = 1.25 * Math.PI + 0.5 * Math.PI * i / n\r\n//             } else {\r\n//                 a = i * 2 * Math.PI / n + (a1 / 2 * Math.PI) //等角\r\n//             }\r\n//         } else { //随机角\r\n//             if (direction === \"top\") {\r\n//                 a = 1.25 * Math.PI + 0.5 * Math.PI * Math.random()\r\n//             } else if (direction === \"outter\") {\r\n//                 a = 1 * Math.PI * Math.random()\r\n//             } else {\r\n//                 a = 2 * Math.PI * Math.random()\r\n//             }\r\n//         }\r\n//         points[i] = [o[0] + r * Math.cos(a), o[1] + r * Math.sin(a)]\r\n//     }\r\n\r\n//     if (Array.isArray(r)) {\r\n//         var len = r.length\r\n//         for (var i = 0; i < n; i++) {\r\n//             var rn = r[i % len]\r\n//             _seg(o, rn, n, i, regular, direction)\r\n//         }\r\n//     } else if (/~/.test(r)) {\r\n//         var rs = r.split(\"~\").map(function (t) {\r\n//             return +t\r\n//         })\r\n//         for (var i = 0; i < n; i++) {\r\n//             var rn = rs[0] + (rs[1] - rs[0]) * Math.random();\r\n//             _seg(o, rn, n, i, regular, direction)\r\n//         }\r\n//     } else {\r\n//         for (var i = 0; i < n; i++) {\r\n//             _seg(o, r, n, i, regular, direction)\r\n//         }\r\n//     }\r\n\r\n//     // return arr\r\n\r\n//     if (options.sort &&\r\n//         sort[options.sort]) {\r\n//         points = sort[options.sort](points)\r\n//     }\r\n//     return points\r\n// }\n\n//# sourceURL=webpack:///./src/points/ArcSeg.js?");

/***/ }),

/***/ "./src/points/CurveSeg.js":
/*!********************************!*\
  !*** ./src/points/CurveSeg.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CurveSeg; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.js\");\n/* harmony import */ var _PolarSeg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PolarSeg */ \"./src/points/PolarSeg.js\");\n// 曲线云点\r\n\r\n\r\nclass CurveSeg extends _PolarSeg__WEBPACK_IMPORTED_MODULE_1__[\"default\"]{\r\n    constructor(options) {\r\n        super(options)\r\n        this.points = this.seg()\r\n        // this.phi = 0\r\n        console.log(this)\r\n    }\r\n    seg() {\r\n        let {\r\n            o,\r\n            r,\r\n            n,\r\n            a1,\r\n            a2\r\n        } = this\r\n        this.phi++\r\n        let points = [];\r\n        for (let i = 0; i < n; i++) {\r\n            let a = a1 + i * (a2 - a1) / n\r\n            // 四叶玫瑰线four leaved rose curve\r\n            let r2 = r +0.5* r * Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_sin\"])(4 * (a + this.phi));\r\n            // 心 heard curve\r\n            // r2=r+r*0.5 *(1+_sin(a + this.phi))\r\n            // 螺旋线spiral curve\r\n            r2=0.5*(a ) + r*Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_sin\"]) (this.phi)\r\n            points[i] = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_polar\"])(o, r2, a)\r\n        }\r\n        return points\r\n    }\r\n\r\n}\n\n//# sourceURL=webpack:///./src/points/CurveSeg.js?");

/***/ }),

/***/ "./src/points/Freeform.js":
/*!********************************!*\
  !*** ./src/points/Freeform.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Freeform; });\n// 任意多边行\r\n\r\nclass Freeform {\r\n    constructor(options) {\r\n        let {\r\n            points = [],\r\n                o\r\n        } = options\r\n        this.points = points\r\n        // 中心点处理\r\n        if (o) {\r\n            this.o = o\r\n        } else {\r\n            // 无中心点情况下 \r\n            this._o()\r\n        }\r\n    }\r\n    //根据控制点计算 中心点\r\n    _o() {\r\n        let x = 0,\r\n            y = 0,\r\n            len = this.points.length;\r\n        this.points.forEach(t => {\r\n            x += t[0]\r\n            y += t[1]\r\n        })\r\n        this.o = [x / len << 0, y / len << 0]\r\n    }\r\n    // 移动  点 和中心点整体移动\r\n    move(pos) {\r\n        let {\r\n            o\r\n        } = this\r\n        let offset = [pos[0] - o[0], pos[1] - o[1]]\r\n        this.points = this.points.map(t => {\r\n            return [t[0] + offset[0], t[1] + offset[1]]\r\n        })\r\n        this.o = pos\r\n        return this\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/points/Freeform.js?");

/***/ }),

/***/ "./src/points/LineSeg.js":
/*!*******************************!*\
  !*** ./src/points/LineSeg.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LineSeg; });\n// 线段切割\r\n\r\nclass LineSeg {\r\n    constructor(options) {\r\n        const {\r\n            p1,\r\n            p2,\r\n            n\r\n        } = options\r\n        this.p1 = p1\r\n        this.p2 = p2\r\n        this.n = n\r\n        // this.width = p2[0] - p1[0]\r\n        // this.height = p2[1] - p1[1]\r\n        this.points = this.seg(p1, p2, n)\r\n    }\r\n    seg(p1, p2, n) {\r\n        let points = []\r\n        for (let i = 0; i <= n; i++) {\r\n            points[points.length] = [p1[0] + (p2[0] - p1[0]) * i / n, p1[1] + (p2[1] - p1[1]) * i / n]\r\n        }\r\n        return points\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/points/LineSeg.js?");

/***/ }),

/***/ "./src/points/PlaneSeg.js":
/*!********************************!*\
  !*** ./src/points/PlaneSeg.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PlaneSeg; });\n// 平面切割\r\n// 平面云点\r\nclass PlaneSeg {\r\n    constructor(options) {\r\n        let {\r\n            n,\r\n            n1,\r\n            n2,\r\n            p1,\r\n            p2,\r\n            random\r\n        } = options\r\n        if (n !== undefined && n1 === undefined && n2 === undefined) {\r\n            n1 = n2 = n\r\n        }\r\n        if (random) {\r\n            this.points = this.random(p1, p2, n1, n2)\r\n        } else {\r\n            this.points = this.seg(p1, p2, n1, n2)\r\n        }\r\n\r\n    }\r\n    seg(p1, p2, n1, n2) {\r\n        let points = []\r\n        let width = p2[0] - p1[0],\r\n            height = p2[1] - p1[1]\r\n        for (let i = 0; i <= n1; i++) {\r\n            for (let j = 0; j <= n2; j++) {\r\n                points[points.length] = [p1[0] + width * i / n1, p1[1] + height * j / n2]\r\n            }\r\n        }\r\n        return points\r\n    }\r\n    //随机点\r\n    random(p1, p2, n1, n2) {\r\n        let points = []\r\n        let width = p2[0] - p1[0],\r\n            height = p2[1] - p1[1]\r\n        for (let i = 0; i <= n1; i++) {\r\n            for (let j = 0; j <= n2; j++) {\r\n                points[points.length] = [p1[0] + width * Math.random(), p1[1] + height * Math.random()]\r\n            }\r\n        }\r\n        return points\r\n\r\n    }\r\n\r\n}\r\n\n\n//# sourceURL=webpack:///./src/points/PlaneSeg.js?");

/***/ }),

/***/ "./src/points/PolarSeg.js":
/*!********************************!*\
  !*** ./src/points/PolarSeg.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PolarSeg; });\n// 极坐标云点  切割机\r\n\r\nclass PolarSeg {\r\n    constructor(options) {\r\n        if (options.hasOwnProperty(\"a\") && !options.hasOwnProperty(\"a1\")) {\r\n            options.a1 = options.a\r\n            options.a2 = options.a+360\r\n        }\r\n        Object.assign(this, {\r\n                o: [0, 0],\r\n                r: 100,\r\n                n: 3,\r\n                a1: 0, //sAngle\r\n                a2: 360, //eAngle\r\n                phi: 0\r\n            },\r\n            options)\r\n        this.center = this.o\r\n    }\r\n    update() {\r\n        this.phi++ //动画入参\r\n    }\r\n\r\n}\n\n//# sourceURL=webpack:///./src/points/PolarSeg.js?");

/***/ }),

/***/ "./src/points/index.js":
/*!*****************************!*\
  !*** ./src/points/index.js ***!
  \*****************************/
/*! exports provided: LineSeg, PlaneSeg, ArcSeg, CurveSeg */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _LineSeg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LineSeg */ \"./src/points/LineSeg.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LineSeg\", function() { return _LineSeg__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _PlaneSeg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PlaneSeg */ \"./src/points/PlaneSeg.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PlaneSeg\", function() { return _PlaneSeg__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _ArcSeg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ArcSeg */ \"./src/points/ArcSeg.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ArcSeg\", function() { return _ArcSeg__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _CurveSeg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CurveSeg */ \"./src/points/CurveSeg.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CurveSeg\", function() { return _CurveSeg__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/points/index.js?");

/***/ }),

/***/ "./src/sample/roundrect.js":
/*!*********************************!*\
  !*** ./src/sample/roundrect.js ***!
  \*********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _draw__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../draw */ \"./src/draw.js\");\n/* harmony import */ var _entity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../entity */ \"./src/entity/index.js\");\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ui */ \"./src/ui/index.js\");\n\r\n\r\n\r\nlet {\r\n    ctx,\r\n    canvas,\r\n    width,\r\n    height\r\n} = Object(_draw__WEBPACK_IMPORTED_MODULE_0__[\"setup\"])()\r\n\r\nlet rr = new _entity__WEBPACK_IMPORTED_MODULE_1__[\"RoundRect\"]({\r\n    ctx,\r\n    x: width/2-100,\r\n    y: height/2-50,\r\n    width: 200,\r\n    height: 100,\r\n    radius: 20,\r\n    // fillColor:'red',\r\n    fill:false,\r\n    color:'red'\r\n})\r\n\r\nrr.draw()\r\n\r\n\r\n\r\nlet ui=new _ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"].Form({\r\n    data: rr,\r\n    options: {\r\n        color: [\"red\", \"blue\", \"black\", \"green\", \"yellow\", \"pink\", \"gray\", \"purple\"]\r\n    },\r\n    btns: [{\r\n        text: \"apply\",\r\n        name: 'submit',\r\n        click: (e) => {\r\n            console.log(e)\r\n            rr.reset().update(e).clear().draw()\r\n        }\r\n    }]\r\n})\r\n\n\n//# sourceURL=webpack:///./src/sample/roundrect.js?");

/***/ }),

/***/ "./src/sort.js":
/*!*********************!*\
  !*** ./src/sort.js ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n//数组排序工具\r\n\r\n\r\n\r\n//数组乱序 random\r\nvar shuffle = function (arr, index) {\r\n    if (index === undefined) {\r\n        for (let i = arr.length - 1; i >= 0; i--) {\r\n            let rIndex = Math.floor(Math.random() * (i + 1));\r\n            // 打印交换值\r\n            // console.log(i, rIndex);\r\n            let temp = arr[rIndex];\r\n            arr[rIndex] = arr[i];\r\n            arr[i] = temp;\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    let res = [];\r\n    // 取出固定值\r\n    let fix = arr.splice(index, 1)[0];\r\n    for (let i = arr.length - 1; i >= 0; i--) {\r\n        let rIndex = Math.floor(Math.random() * (i + 1));\r\n        res.push(arr[rIndex]);\r\n        arr.splice(rIndex, 1);\r\n    }\r\n    // 将固定值放入指定位置\r\n    res.splice(index, 0, fix);\r\n    return res;\r\n}\r\n\r\n\r\n//两个元素交换位置\r\nfunction swapArr(arr, x, y) {\r\n    // arr[x] = arr.splice(y, 1, arr[x])[0];\r\n    arr.splice(x, 1, ...arr.splice(y, 1, arr[x]))\r\n    return arr;\r\n}\r\n\r\n//邻居互换  数组,固定序号\r\nvar neighborSwap = function (arr, index) {\r\n    if (index === undefined) {\r\n        for (let i = 0; i < arr.length; i = i + 2) {\r\n            swapArr(arr, i, i + 1)\r\n        }\r\n        return arr\r\n    } else {\r\n        let fix = arr.splice(index, 1)[0];\r\n        for (let i = 0; i < arr.length; i = i + 2) {\r\n            swapArr(arr, i, i + 1)\r\n        }\r\n        arr.splice(index, 0, fix);\r\n        return arr\r\n    }\r\n}\r\n//隔位重排\r\nfunction intervalSort(arr, index) {\r\n    if (index !== undefined) {\r\n        newSeq(arr, index)\r\n    }\r\n    for (let i = 0; i < arr.length - 2; i++) {\r\n        swapArr(arr, i + 1, i + 2)\r\n    }\r\n    return arr\r\n}\r\n\r\n//从第几个开始重新编号\r\nfunction newSeq(arr, index) {\r\n    arr.splice(0, 0, ...arr.splice(index, arr.length - index))\r\n    return arr\r\n}\r\n\r\n\r\n//错位排序\r\nfunction misplaced(arr) {\r\n    for (let i = 0; i < arr.length / 2 + 1; i++) {\r\n        var cur = arr.pop();\r\n        arr.splice(i * 2 + 1, 0, cur)\r\n    }\r\n    return arr\r\n}\r\n\r\n// console.log(newSeq([1, 2, 3, 4, 5], 1))\r\n\r\n//数组每隔n位截取一次\r\nfunction chunk(arr, num) {\r\n    let j = 0,\r\n        o = j;\r\n    let newArray = [];\r\n    while (j < arr.length) {\r\n        j += num;\r\n        newArray.push([arr.slice(o, j)]);\r\n        o = j;\r\n    }\r\n    return newArray;\r\n}\r\n\r\n\r\n// console.log(intervalSort([0, 1, 2, 3, 4]))\r\n\r\n//奇偶数排序oddEvenSort\r\nfunction parity(arr) {\r\n    let seq = arr.map((t, i) => {\r\n        return i\r\n    })\r\n    // seq = seq.sort((a, b) => {\r\n    //     if (a % 2 === 0 && b % 2 === 1) {\r\n    //         return 1;\r\n    //     }\r\n    //     return 0;\r\n    // })\r\n\r\n    seq=seq.sort((a, b) => {\r\n        if (a % 2 === 0) {\r\n            if (b % 2 !== 0) {\r\n                return -1;\r\n            }\r\n            return 0;\r\n        } else{\r\n            return 1\r\n        }\r\n    })\r\n    console.log(seq)\r\n\r\n    return seq.map(t => {\r\n        return arr[t]\r\n    })\r\n}\r\n\r\n\r\n\r\n//置顶移动\r\nfunction toFirst(fieldData, index) {\r\n    if (index != 0) {\r\n        // fieldData[index] = fieldData.splice(0, 1, fieldData[index])[0]; 这种方法是与另一个元素交换了位子，\r\n        fieldData.unshift(fieldData.splice(index, 1)[0]);\r\n    }\r\n}\r\n\r\n\r\n// 3:up 上移动一格\r\nfunction upGo(fieldData, index) {\r\n    if (index != 0) {\r\n        fieldData[index] = fieldData.splice(index - 1, 1, fieldData[index])[0];\r\n    } else {\r\n        fieldData.push(fieldData.shift());\r\n    }\r\n}\r\n\r\n// down 下移动一格\r\nfunction downGo(fieldData, index) {\r\n    if (index != fieldData.length - 1) {\r\n        fieldData[index] = fieldData.splice(index + 1, 1, fieldData[index])[0];\r\n    } else {\r\n        fieldData.unshift(fieldData.splice(index, 1)[0]);\r\n    }\r\n}\r\n\r\n\r\n//冒泡排序\r\nvar bubleSort = function (arr) {\r\n    const len = arr.length;\r\n    for (let i = 0; i < len - 1; i++) {\r\n        for (let j = 0; j < len - 1 - i; j++) {\r\n            if (arr[j] > arr[j + 1]) {\r\n                let temp = arr[j];\r\n                arr[j] = arr[j + 1];\r\n                arr[j + 1] = temp;\r\n            }\r\n        }\r\n    }\r\n    return arr;\r\n}\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    shuffle,\r\n    neighborSwap,\r\n    intervalSort,\r\n    misplaced,\r\n    parity\r\n});\n\n//# sourceURL=webpack:///./src/sort.js?");

/***/ }),

/***/ "./src/ui/BaseDom.js":
/*!***************************!*\
  !*** ./src/ui/BaseDom.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BaseDom; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.js\");\n\r\nclass BaseDom {\r\n    constructor(options) {\r\n        Object.assign(this, options)\r\n        this.setData(options.data)\r\n        console.log(this)\r\n    }\r\n    // 接口\r\n    render() {}\r\n    setData(data) {\r\n        if (Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_type\"])(data) == \"object\") {\r\n            this.fields = this.objToFields(data, this.options, this.labels)\r\n        }\r\n        this.render()\r\n    }\r\n    // 入参转换\r\n    objToFields(obj = {}, options = {}, labels = {}) {\r\n        Object.assign(labels, {\r\n            o: 'center',\r\n            r: 'radius',\r\n            n: 'sides'\r\n        })\r\n        let fields = []\r\n        for (let key in obj) {\r\n            let label = labels[key] ? labels[key] : key;\r\n            if (options[key]) {\r\n                fields[fields.length] = {\r\n                    key,\r\n                    label,\r\n                    value: obj[key],\r\n                    type: \"select\",\r\n                    options: options[key]\r\n                }\r\n            } else {\r\n                fields[fields.length] = {\r\n                    key,\r\n                    label,\r\n                    value: obj[key],\r\n                    type: Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_type\"])(obj[key])\r\n                }\r\n            }\r\n\r\n        }\r\n        return fields\r\n    }\r\n    _random() {\r\n        return \"_\" + Math.random().toString(16).slice(2)\r\n    }\r\n\r\n    _query(el, parent) {\r\n        if (parent) {\r\n            if (typeof parent == \"string\") {\r\n                if (parent.charAt(0).match(/[\\#\\.]/)) {\r\n                    return document.querySelector(parent + \" \" + el)\r\n                }\r\n                return document.querySelector(\"#\" + parent + \" \" + el)\r\n            }\r\n            return document.querySelector(\"#\" + parent.id + \" \" + el)\r\n        }\r\n        if (\"htmldivelement\" == Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"_type\"])(el)) {\r\n            return el\r\n        }\r\n        return document.querySelector(el)\r\n    }\r\n\r\n    _queryAll(el, parent) {\r\n        if (parent) {\r\n            if (typeof parent == \"string\") {\r\n                if (parent.charAt(0).match(/[\\#\\.]/)) {\r\n                    return document.querySelectorAll(parent + \" \" + el)\r\n                }\r\n                return document.querySelectorAll(\"#\" + parent + \" \" + el)\r\n            }\r\n            return document.querySelectorAll(\"#\" + parent.id + \" \" + el)\r\n        }\r\n        return document.querySelectorAll(el)\r\n    }\r\n\r\n    //上溯\r\n    _closest(el, cls) {\r\n        if (!el.parentNode) { //document  ie8不支持parentNode\r\n            return null\r\n        } else if (cls.charAt(0) === \".\" && el.className.split(\" \").indexOf(cls.substring(1)) >= 0) {\r\n            return el;\r\n        } else if (cls.charAt(0) === \"#\" && el.id.toLowerCase() === cls.substring(1).toLowerCase()) {\r\n            return el;\r\n        } else if (el.tagName.toLowerCase() === cls.toLowerCase()) {\r\n            return el\r\n        } else {\r\n            return this._closest(el.parentNode, cls)\r\n        }\r\n    }\r\n\r\n    _appendTo(el, form) {\r\n        // el = el ? document.querySelector(el) : document.body\r\n        el = el ? this._query(el) : document.body\r\n        el.appendChild(form)\r\n    }\r\n\r\n    _createEle(tag, options) {\r\n        let ele = document.createElement(tag)\r\n        for (let key in options) {\r\n            if (options[key] !== undefined) {\r\n                if (\"class\" == key) {\r\n                    ele.className = options[key]\r\n                } else if (['name', 'innertext', 'id', 'innerHTML', 'value'].indexOf(key.toLocaleLowerCase()) >= 0) {\r\n                    ele[key] = options[key]\r\n                } else if (key === \"click\") {\r\n                    ele.addEventListener(\"click\", options[key], false)\r\n                } else {\r\n                    ele.setAttribute(key, options[key])\r\n                }\r\n            }\r\n        }\r\n        return ele\r\n    }\r\n\r\n    _div(options) {\r\n        let div = this._createEle(\"div\", Object.assign(options, {\r\n            innerText: options[\"text\"]\r\n        }))\r\n        return div\r\n    }\r\n\r\n    //允许一次加多个样式\r\n    //去重\r\n    _addClass(el, cls) {\r\n        var arr1 = el.className.split(\" \")\r\n        var arr2 = cls.split(\" \")\r\n        var obj = {}\r\n        arr1.forEach(t => {\r\n            obj[t] = 1\r\n        })\r\n        arr2.forEach(t => {\r\n            obj[t] = 1\r\n        })\r\n        var keys = []\r\n        for (var key in obj) {\r\n            keys.push(key)\r\n        }\r\n        el.className = keys.join(\" \")\r\n        return el;\r\n    }\r\n    _removeClass(el, cls) {\r\n        var arr1 = el.className.split(\" \")\r\n        var arr2 = cls.split(\" \")\r\n        var obj = {}\r\n        arr1.forEach(t => {\r\n            if (arr2.indexOf(t) === -1) {\r\n                obj[t] = 1\r\n            }\r\n        })\r\n        var keys = []\r\n        for (var key in obj) {\r\n            keys.push(key)\r\n        }\r\n        el.className = keys.join(\" \")\r\n        return el;\r\n    }\r\n    _hasClass(el, cls) {\r\n        var arr = el.className.split(\" \")\r\n        return arr.indexOf(cls) >= 0\r\n    }\r\n    _toggle(el, cls) {\r\n        if (this._hasClass(el, cls)) {\r\n            this._removeClass(el, cls)\r\n        } else {\r\n            this._addClass(el, cls)\r\n        }\r\n    }\r\n    _get(field, form) {\r\n        let formitem = this._query(\"[name='\" + field.key + \"']\", form)\r\n        let value = formitem.value\r\n        switch (field.type) {\r\n            case \"number\":\r\n                return Number(value)\r\n                break;\r\n            case \"object\":\r\n                return JSON.parse(value)\r\n                break;\r\n            case \"array\":\r\n                if (/\\[.*?\\]/.test(value)) {\r\n                    return JSON.parse(value)\r\n                } else {\r\n                    return value.split(\",\").map(t => {\r\n                        return Number(t)\r\n                    })\r\n                }\r\n\r\n                break;\r\n            case \"boolean\":\r\n                return formitem.checked\r\n                break;\r\n            case \"select\":\r\n            default:\r\n                return value\r\n\r\n        }\r\n    }\r\n    _set(key, value) {\r\n        let field = this.fields.filter(t => t.key == key)[0]\r\n        if (field) {\r\n\r\n            let formitem = this._query(\"[name='\" + field.key + \"']\")\r\n\r\n            switch (field.type) {\r\n                case \"number\":\r\n                    formitem.value = Number(value)\r\n                    break;\r\n                case \"object\":\r\n                    formitem.value = JSON.parse(value)\r\n                    break;\r\n                case \"array\":\r\n                    if (/\\[.*?\\]/.test(value)) {\r\n                        formitem.value = JSON.parse(value)\r\n                    } else {\r\n                        formitem.value = value.join(\",\")\r\n                    }\r\n\r\n                    break;\r\n                case \"boolean\":\r\n                    formitem.value = formitem.checked\r\n                    break;\r\n                case \"select\":\r\n                default:\r\n                    formitem.value = value\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/BaseDom.js?");

/***/ }),

/***/ "./src/ui/Form.js":
/*!************************!*\
  !*** ./src/ui/Form.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Form; });\n/* harmony import */ var _Panel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Panel */ \"./src/ui/Panel.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils.js\");\n\r\n\r\n\r\nclass Form extends _Panel__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(options) {\r\n        super(options)\r\n        // this.render()\r\n    }\r\n    // 实现接口\r\n    render() {\r\n        let el = this.el ? this.el : this._div({\r\n            id: \"wrapper\"\r\n        })\r\n        let panel=this._query(\".panel.ui\",el)\r\n        let form=this._form()\r\n        if(panel){\r\n            // el.removeChild(panel)\r\n            el.replaceChild(form,panel)\r\n        }else{\r\n            el.appendChild(form) //options\r\n        }\r\n        \r\n       \r\n        this._appendTo(null, el)\r\n        this.el = el\r\n    }\r\n\r\n    _form(options) {\r\n        let {\r\n            el,\r\n            fields = [],\r\n            click,\r\n            events = [],\r\n            btn,\r\n            btns = [],\r\n            title\r\n        } = this\r\n\r\n        let tools;\r\n        if (btns.length > 0) {\r\n            tools = btns.map(t => {\r\n                return this._btn(\r\n                    Object.assign(t, {\r\n                        fields\r\n                    })\r\n                )\r\n            })\r\n        } else {\r\n            tools = btn ? this._btn(\r\n                Object.assign(btn, {\r\n                    fields\r\n                })\r\n            ) : \"\"\r\n        }\r\n\r\n\r\n        let form = this._panel({\r\n            title,\r\n            class: 'ui',\r\n            body: fields.map(t => {\r\n                return this._formItem(t)\r\n            }),\r\n            tools\r\n        })\r\n        this._appendTo(el, form)\r\n        return form\r\n    }\r\n    _formItem(field, form) {\r\n        let {\r\n            label,\r\n            key,\r\n            value,\r\n            type,\r\n            btn\r\n        } = field\r\n        let formItem = this._div({\r\n            class: \"form_item\"\r\n        })\r\n        let labelDiv = this._div({\r\n            class: \"form_item_label\",\r\n            text: label\r\n        })\r\n\r\n        formItem.appendChild(labelDiv)\r\n\r\n        switch (type) {\r\n            case \"textarea\":\r\n                let textarea = this._textarea(Object.assign({\r\n                    class: 'form_item_textarea',\r\n                    value,\r\n                    name: key\r\n                }, field))\r\n                formItem.appendChild(textarea)\r\n                break;\r\n            case \"trueorfalse\":\r\n            case \"boolean\":\r\n                let div = this._trueorfalse(Object.assign({\r\n                    class: 'form_item_select',\r\n                    name: key\r\n                }, field))\r\n                formItem.appendChild(div)\r\n                break;\r\n            case \"select\":\r\n                let select = this._select(Object.assign({\r\n                    class: 'form_item_select',\r\n                    value,\r\n                    name: key\r\n                }, field))\r\n                formItem.appendChild(select)\r\n                break\r\n            default:\r\n                let input = this._input({\r\n                    class: 'form_item_input',\r\n                    value,\r\n                    name: key\r\n                })\r\n                formItem.appendChild(input)\r\n        }\r\n        if (btn) {\r\n            formItem.appendChild(_btn(Object.assign(btn, {\r\n                form\r\n            })))\r\n        }\r\n        return formItem\r\n\r\n    }\r\n\r\n    _btn({\r\n        click,\r\n        text,\r\n        form,\r\n        name,\r\n        fields\r\n    }) {\r\n        let btn = this._createEle(\"button\", {\r\n            type: \"button\",\r\n            form,\r\n            name,\r\n            innerText: text\r\n        })\r\n\r\n        btn.onclick = (e) => {\r\n            let form = this._closest(e.target, \".panel\").id\r\n            console.log(fields)\r\n            let bizModel = {}\r\n            if (fields) {\r\n                fields.forEach(t => {\r\n                    bizModel[t.key] = this._get(t, form)\r\n                })\r\n            }\r\n\r\n            let inputs = this._queryAll(\"[name='input']\", form)\r\n            let output = this._query(\"[name='output']\", form)\r\n            let fn = this._query(\"[name='function']\", form)\r\n\r\n            let values = []\r\n            inputs.forEach(t => {\r\n                values.push(JSON.parse(t.value))\r\n            })\r\n            let result = \"\"\r\n            switch (name) {\r\n                case \"submit\":\r\n                    click(bizModel)\r\n\r\n                    break;\r\n                case \"to_form\":\r\n                    click(JSON.parse(output.value));\r\n                    break;\r\n                default:\r\n\r\n                    if (fn) {\r\n                        try {\r\n                            let e_str = eval(\"(\" + fn.value + \")(...values)\")\r\n\r\n                            result = e_str ? JSON.stringify(e_str) : \"\"\r\n                        } catch (e) {\r\n                            result = e\r\n                        }\r\n\r\n                    } else {\r\n                        result = JSON.stringify(click(...values))\r\n\r\n                    }\r\n                    if (output) {\r\n                        output.value = result\r\n                    }\r\n\r\n\r\n            }\r\n        }\r\n        return btn\r\n    }\r\n\r\n    _select(field) {\r\n        let select = this._createEle(\"select\", field);\r\n        field.options.forEach(t => {\r\n            let opt = new Option(t, t);\r\n            if (field.value === t.value) {\r\n                opt.selected = true\r\n            }\r\n            select.options.add(opt);\r\n        })\r\n        return select\r\n    }\r\n\r\n    _input(field) {\r\n        let {\r\n            value,\r\n            type\r\n        } = field\r\n\r\n        switch (type) {\r\n            case \"array\":\r\n                value = value.join(\",\")\r\n                break;\r\n            case \"object\":\r\n                value = JSON.stringify(value)\r\n                break;\r\n        }\r\n        let input = this._createEle(\"input\", Object.assign(field, {\r\n            type: 'text',\r\n            value\r\n        }))\r\n        return input\r\n    }\r\n\r\n    _textarea(field) {\r\n        return this._createEle(\"textarea\",\r\n            Object.assign(field, {\r\n                innerHTML: text,\r\n                value: value ? JSON.stringify(value) : \"\"\r\n            })\r\n        )\r\n    }\r\n\r\n    _trueorfalse(field) {\r\n        let checkbox = this._createEle(\"input\",\r\n            Object.assign(field, {\r\n                type: \"checkbox\",\r\n                checked: field.value ? true : undefined\r\n            })\r\n        );\r\n        return checkbox\r\n    }\r\n\r\n}\n\n//# sourceURL=webpack:///./src/ui/Form.js?");

/***/ }),

/***/ "./src/ui/List.js":
/*!************************!*\
  !*** ./src/ui/List.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return List; });\n/* harmony import */ var _Panel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Panel */ \"./src/ui/Panel.js\");\n\r\n\r\n\r\nclass List extends _Panel__WEBPACK_IMPORTED_MODULE_0__[\"default\"]{\r\n    constructor(options){\r\n        super(options)\r\n        this.List=this._list(options)\r\n    }\r\n    _list(options) {\r\n        let {\r\n            el,\r\n            fields\r\n        } = options\r\n        let table = this._createEle(\"table\")\r\n        let tr = this._createEle(\"tr\")\r\n\r\n        table.appendChild(tr)\r\n        //header\r\n        fields.forEach(t => {\r\n            let th = this._createEle(\"th\", {\r\n                innerText: t.label\r\n            })\r\n            tr.appendChild(th)\r\n        })\r\n\r\n        //mock \r\n        for (let i = 0; i < 10; i++) {\r\n            let tr = this._createEle(\"tr\")\r\n            fields.forEach(t => {\r\n                let td = this._createEle(\"td\", {\r\n                    innerText: this._random()\r\n                })\r\n                tr.appendChild(td)\r\n            })\r\n            table.appendChild(tr)\r\n        }\r\n\r\n        let list = this._panel({\r\n            title: \"List\",\r\n            body: table\r\n        })\r\n\r\n        this._appendTo(el, list)\r\n        return list\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/List.js?");

/***/ }),

/***/ "./src/ui/Panel.js":
/*!*************************!*\
  !*** ./src/ui/Panel.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Panel; });\n/* harmony import */ var _BaseDom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseDom */ \"./src/ui/BaseDom.js\");\n\r\n\r\nclass Panel extends _BaseDom__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(options) {\r\n        super(options)\r\n    }\r\n    _panel(options) {\r\n        let {\r\n            title,\r\n            body,\r\n            footer,\r\n            tools\r\n        } = options\r\n\r\n        let id = this._random()\r\n        let panel = this._div({\r\n            class: 'panel' + (options['class'] ? \" \" + options['class'] : \"\"),\r\n            id\r\n        })\r\n\r\n        let panelHeader = this._div({\r\n            class: \"panel_header\",\r\n            text: title,\r\n\r\n        })\r\n        let expandbtn = this._div({\r\n            class: \"fold\",\r\n            // text: \"\",\r\n            click: (e) => {\r\n                console.log(e.target)\r\n                let el = e.target\r\n                this._toggle(el, \"down\")\r\n                let panel = this._closest(el, \".panel\")\r\n                let panel_body = this._query(\".panel_body\", panel)\r\n                this._toggle(panel_body, \"hide\")\r\n                let panel_footer = this._query(\".panel_footer\", panel)\r\n                this._toggle(panel_footer, \"hide\")\r\n            }\r\n        })\r\n\r\n        let toolsWrapper = this._div({\r\n            class: \"tools\"\r\n        })\r\n        if (Array.isArray(tools)) {\r\n            tools.forEach(t => {\r\n                toolsWrapper.appendChild(t)\r\n            })\r\n        } else if(tools){\r\n            toolsWrapper.appendChild(tools)\r\n        }\r\n\r\n        panelHeader.appendChild(expandbtn)\r\n        panelHeader.appendChild(toolsWrapper)\r\n\r\n        let panelBody = this._div({\r\n            class: 'panel_body'\r\n        })\r\n\r\n        let panelFooter = this._div({\r\n            class: \"panel_footer\"\r\n        });\r\n\r\n        if (Array.isArray(body)) {\r\n            body.forEach(t => {\r\n                // t.form=id\r\n                t.setAttribute(\"form\", id)\r\n                panelBody.appendChild(t)\r\n            })\r\n\r\n        } else {\r\n            body.setAttribute(\"form\", id)\r\n            panelBody.appendChild(body)\r\n        }\r\n\r\n        if (footer) {\r\n            footer.setAttribute(\"form\", id)\r\n            panelFooter.appendChild(footer)\r\n        }\r\n\r\n\r\n        panel.appendChild(panelHeader)\r\n        panel.appendChild(panelBody)\r\n        panel.appendChild(panelFooter)\r\n        return panel\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/Panel.js?");

/***/ }),

/***/ "./src/ui/index.js":
/*!*************************!*\
  !*** ./src/ui/index.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ui_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ui.css */ \"./src/ui/ui.css\");\n/* harmony import */ var _ui_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ui_css__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Form */ \"./src/ui/Form.js\");\n/* harmony import */ var _List__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./List */ \"./src/ui/List.js\");\n// 入参 UI\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    Form: _Form__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n    List: _List__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\r\n});\n\n//# sourceURL=webpack:///./src/ui/index.js?");

/***/ }),

/***/ "./src/ui/ui.css":
/*!***********************!*\
  !*** ./src/ui/ui.css ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var api = __webpack_require__(/*! ../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/src??postcss!./ui.css */ \"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js?!./src/ui/ui.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;\n\n//# sourceURL=webpack:///./src/ui/ui.css?");

/***/ }),

/***/ "./src/utils.js":
/*!**********************!*\
  !*** ./src/utils.js ***!
  \**********************/
/*! exports provided: _type, _sin, _cos, _polar, _mid, _dis, _atan, _pos, splitWords, camelCase, kebab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_type\", function() { return _type; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_sin\", function() { return _sin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_cos\", function() { return _cos; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_polar\", function() { return _polar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_mid\", function() { return _mid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_dis\", function() { return _dis; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_atan\", function() { return _atan; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_pos\", function() { return _pos; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"splitWords\", function() { return splitWords; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"camelCase\", function() { return camelCase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"kebab\", function() { return kebab; });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ \"./src/config.js\");\n\r\n//类型判断\r\nconst _type = function (o) {\r\n    if (o === null) return 'null';\r\n    if (o === undefined) return 'undefined'; //兼容ie8\r\n    var s = Object.prototype.toString.call(o);\r\n    var t = s.match(/\\[object (.*?)\\]/)[1].toLowerCase();\r\n    return t === 'number' ? isNaN(o) ? 'nan' : !isFinite(o) ? 'infinity' : t : t;\r\n}\r\n\r\n// 角度转弧度\r\nfunction _sin(a = 0) {\r\n    return Math.sin(a * Math.PI / 180)\r\n}\r\n\r\nfunction _cos(a = 0) {\r\n    return Math.cos(a * Math.PI / 180)\r\n}\r\n\r\n// 极坐标\r\nfunction _polar(o = [0, 0], r = 0, a = 0) {\r\n    return [o[0] + r * _cos(a), o[1] + r * _sin(a)]\r\n}\r\n// 中点\r\nfunction _mid(p1 = [0, 0], p2 = [0, 0]) {\r\n    return [(p1[0] + p2[0]) / 2, (p1[1] + p2[1]) / 2]\r\n}\r\n// 距离\r\nfunction _dis(p1 = [0, 0], p2 = [0, 0]) {\r\n    return Math.sqrt((p1[0] - p2[0]) * (p1[0] - p2[0]) + (p1[1] - p2[1]) * (p1[1] - p2[1]))\r\n}\r\n// 夹角\r\nfunction _atan(p1 = [0, 0], p2 = [0, 0]) {\r\n    return Math.atan2(p2[1] - p1[1],p2[0] - p1[0]) * 180 / Math.PI\r\n}\r\n// // 方向\r\n// function _dir(p1 = [0, 0], p2 = [0, 0]) {\r\n//     var x = Math.abs(p1[0] - p2[0]);\r\n//     var y = Math.abs(p1[1] - p2[1]);\r\n//     var z = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\r\n//     var cos = y / z;\r\n//     var radina = Math.acos(cos); //用反三角函数求弧度\r\n//     var angle = Math.floor(180 / (Math.PI / radina)); //将弧度转换成角度\r\n\r\n//     if (p2[0] > p1[0] && p2[1] > p1[1]) { //鼠标在第四象限\r\n//         angle = 180 - angle;\r\n//     }\r\n\r\n//     if (p2[0] == p1[0] && p2[1] > p1[1]) { //鼠标在y轴负方向上\r\n//         angle = 180;\r\n//     }\r\n\r\n//     if (p2[0] > p1[0] && p2[1] == p1[1]) { //鼠标在x轴正方向上\r\n//         angle = 90;\r\n//     }\r\n\r\n//     if (p2[0] < p1[0] && p2[1] > p1[1]) { //鼠标在第三象限\r\n//         angle = 180 + angle;\r\n//     }\r\n\r\n//     if (p2[0] < p1[0] && p2[1] == p1[1]) { //鼠标在x轴负方向\r\n//         angle = 270;\r\n//     }\r\n\r\n//     if (p2[0] < p1[0] && p2[1] < p1[1]) { //鼠标在第二象限\r\n//         angle = 360 - angle;\r\n//     }\r\n\r\n\r\n\r\n//     return angle;\r\n// }\r\n//均分点meanSplit。分割n次，分割成n+1段\r\n//分割直线\r\nfunction split(p1, p2, n) {\r\n    var ps = [];\r\n    for (var i = 1; i <= n; i++)\r\n        ps[ps.length] = this.toV(p).scale(i / (n + 1)).toP(this);\r\n    return ps;\r\n}\r\n\r\n//判断对象是否有属性 ，忽略大小写\r\nfunction hasProp(obj, key, ignoreCase) {\r\n    if (ignoreCase) {\r\n        key = key.toLowerCase()\r\n        for (let k in obj) {\r\n            if (k.toLowerCase() == key) {\r\n                return true\r\n            }\r\n        }\r\n    } else {\r\n        return Object.hasOwnProperty.call(obj, key)\r\n    }\r\n}\r\n//获取对象的值  ，忽略大小写\r\nfunction getValue(obj, key, ignoreCase) {\r\n    if (ignoreCase) {\r\n        key = key.toLowerCase()\r\n        for (let k in obj) {\r\n            if (k.toLowerCase() == key) {\r\n                return obj[k]\r\n            }\r\n        }\r\n    } else {\r\n        return obj[key]\r\n    }\r\n}\r\n//按长度排序\r\nfunction sortByLen(arr) {\r\n    return arr.map(i => ({\r\n            raw: i,\r\n            len: i.length\r\n        }))\r\n        .sort((p, n) => n.len - p.len)\r\n        .map(i => i.raw)\r\n}\r\nlet words = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].words ? sortByLen(_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].words) : []\r\nvar wordsReg = words.length > 0 ? RegExp(words.join(\"|\"), 'i') : RegExp(/\\w+/, 'i')\r\n\r\n\r\n//切分原则，比对最长的单词，剩余的可递归\r\nfunction splitWords(t) {\r\n    if (!t) return []\r\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].splitWords && hasProp(_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].splitWords, t, true)) {\r\n        return getValue(_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].splitWords, t, true)\r\n    }\r\n    // console.log(t)\r\n    var m = t.match(wordsReg)\r\n    if (m) {\r\n        var arr = []\r\n        var index = m.index\r\n        var word = m[0]\r\n        var last = \"\"\r\n        if (word == t) {\r\n            return arr.concat([word])\r\n        } else {\r\n            if (index == 0) {\r\n                arr.push(word);\r\n                last = t.slice(word.length)\r\n            } else {\r\n                arr.push(t.slice(0, index))\r\n                last = t.slice(index)\r\n            }\r\n            return arr.concat(splitWords(last))\r\n        }\r\n    }\r\n    return [t]\r\n}\r\n\r\n//首字母大写\r\nfunction firstCapital(t) {\r\n    return t.slice(0, 1).toUpperCase() + t.slice(1)\r\n}\r\n\r\n//小驼峰\r\nfunction camelCase(ggname) {\r\n    if (!ggname) return \"\"\r\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].camelCase) {\r\n        let _gg = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].camelCase.filter(t => t.toLowerCase() == ggname.toLowerCase())[0]\r\n        if (_gg) {\r\n            return _gg\r\n        }\r\n    }\r\n    return splitWords(ggname).map((t, i) => {\r\n        if (i == 0) {\r\n            return t.slice(0, 1).toLowerCase() + t.slice(1)\r\n        }\r\n        return t.slice(0, 1).toUpperCase() + t.slice(1)\r\n    }).join(\"\")\r\n}\r\n\r\n//中划线 短横\r\nfunction kebab(ggname) {\r\n    return splitWords(ggname.toLowerCase()).join(\"-\")\r\n}\r\n\r\nfunction _pos(e, canvas) {\r\n    let x = e.clientX,\r\n        y = e.clientY\r\n    var canvasBox = canvas.getBoundingClientRect(); //获取canvas元素的边界框\r\n    return [(x - canvasBox.left) * (canvas.width / canvasBox.width), (y - canvasBox.top) * (canvas.height / canvasBox.height)]\r\n}\r\n\r\n\n\n//# sourceURL=webpack:///./src/utils.js?");

/***/ })

/******/ });